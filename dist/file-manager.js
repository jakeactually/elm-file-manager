!function(scope){"use strict";function F(arity,fun,wrapper){return wrapper.a=arity,wrapper.f=fun,wrapper}function F2(fun){return F(2,fun,function(a){return function(b){return fun(a,b)}})}function F3(fun){return F(3,fun,function(a){return function(b){return function(c){return fun(a,b,c)}}})}function F4(fun){return F(4,fun,function(a){return function(b){return function(c){return function(d){return fun(a,b,c,d)}}}})}function F5(fun){return F(5,fun,function(a){return function(b){return function(c){return function(d){return function(e){return fun(a,b,c,d,e)}}}}})}function F7(fun){return F(7,fun,function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return function(g){return fun(a,b,c,d,e,f,g)}}}}}}})}function A2(fun,a,b){return 2===fun.a?fun.f(a,b):fun(a)(b)}function A3(fun,a,b,c){return 3===fun.a?fun.f(a,b,c):fun(a)(b)(c)}function A4(fun,a,b,c,d){return 4===fun.a?fun.f(a,b,c,d):fun(a)(b)(c)(d)}function A5(fun,a,b,c,d,e){return 5===fun.a?fun.f(a,b,c,d,e):fun(a)(b)(c)(d)(e)}function A7(fun,a,b,c,d,e,f,g){return 7===fun.a?fun.f(a,b,c,d,e,f,g):fun(a)(b)(c)(d)(e)(f)(g)}var _List_Nil={$:0};function _List_Cons(hd,tl){return{$:1,a:hd,b:tl}}var _List_cons=F2(_List_Cons);function _List_fromArray(arr){for(var out=_List_Nil,i=arr.length;i--;)out=_List_Cons(arr[i],out);return out}function _List_toArray(xs){for(var out=[];xs.b;xs=xs.b)out.push(xs.a);return out}var _List_map2=F3(function(f,xs,ys){for(var arr=[];xs.b&&ys.b;xs=xs.b,ys=ys.b)arr.push(A2(f,xs.a,ys.a));return _List_fromArray(arr)});function _Utils_eq(x,y){for(var pair,stack=[],isEqual=_Utils_eqHelp(x,y,0,stack);isEqual&&(pair=stack.pop());isEqual=_Utils_eqHelp(pair.a,pair.b,0,stack));return isEqual}function _Utils_eqHelp(x,y,depth,stack){if(100<depth)return stack.push(_Utils_Tuple2(x,y)),!0;if(x===y)return!0;if("object"!=typeof x||null===x||null===y)return"function"==typeof x&&_Debug_crash(5),!1;for(var key in x.$<0&&(x=elm$core$Dict$toList(x),y=elm$core$Dict$toList(y)),x)if(!_Utils_eqHelp(x[key],y[key],depth+1,stack))return!1;return!0}var _Utils_notEqual=F2(function(a,b){return!_Utils_eq(a,b)});function _Utils_cmp(x,y,ord){if("object"!=typeof x)return x===y?0:x<y?-1:1;if(!x.$)return(ord=_Utils_cmp(x.a,y.a))?ord:(ord=_Utils_cmp(x.b,y.b))?ord:_Utils_cmp(x.c,y.c);for(;x.b&&y.b&&!(ord=_Utils_cmp(x.a,y.a));x=x.b,y=y.b);return ord||(x.b?1:y.b?-1:0)}var _Utils_compare=F2(function(x,y){var n=_Utils_cmp(x,y);return n<0?elm$core$Basics$LT:n?elm$core$Basics$GT:elm$core$Basics$EQ}),_Utils_Tuple0=0;function _Utils_Tuple2(a,b){return{a:a,b:b}}function _Utils_chr(c){return c}function _Utils_update(oldRecord,updatedFields){var newRecord={};for(var key in oldRecord)newRecord[key]=oldRecord[key];for(var key in updatedFields)newRecord[key]=updatedFields[key];return newRecord}var _Utils_append=F2(_Utils_ap);function _Utils_ap(xs,ys){if("string"==typeof xs)return xs+ys;if(!xs.b)return ys;var root=_List_Cons(xs.a,ys);xs=xs.b;for(var curr=root;xs.b;xs=xs.b)curr=curr.b=_List_Cons(xs.a,ys);return root}var _JsArray_initialize=F3(function(size,offset,func){for(var result=Array(size),i=0;i<size;i++)result[i]=func(offset+i);return result}),_JsArray_initializeFromList=F2(function(max,ls){for(var result=Array(max),i=0;i<max&&ls.b;i++)result[i]=ls.a,ls=ls.b;return result.length=i,_Utils_Tuple2(result,ls)});function _Debug_crash(identifier){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+identifier+".md")}var _Basics_ceiling=Math.ceil,_Basics_floor=Math.floor,_Basics_log=Math.log;var _String_split=F2(function(sep,str){return str.split(sep)}),_String_join=F2(function(sep,strs){return strs.join(sep)}),_String_slice=F3(function(start,end,str){return str.slice(start,end)});var _String_all=F2(function(isGood,string){for(var i=string.length;i--;){var char=string[i],word=string.charCodeAt(i);if(word<56320||57343<word||(char=string[--i]+char),!isGood(_Utils_chr(char)))return!1}return!0});function _String_fromNumber(number){return number+""}var _Json_decodeField=F2(function(field,decoder){return{$:10,d:field,b:decoder}});function _Json_mapMany(f,decoders){return{$:13,f:f,g:decoders}}var _Json_andThen=F2(function(callback,decoder){return{$:14,b:decoder,h:callback}});var _Json_map1=F2(function(f,d1){return _Json_mapMany(f,[d1])}),_Json_map2=F3(function(f,d1,d2){return _Json_mapMany(f,[d1,d2])}),_Json_map3=F4(function(f,d1,d2,d3){return _Json_mapMany(f,[d1,d2,d3])}),_Json_runOnString=F2(function(decoder,string){try{return _Json_runHelp(decoder,JSON.parse(string))}catch(e){return elm$core$Result$Err(A2(elm$json$Json$Decode$Failure,"This is not valid JSON! "+e.message,_Json_wrap(string)))}}),_Json_run=F2(function(decoder,value){return _Json_runHelp(decoder,_Json_unwrap(value))});function _Json_runHelp(decoder,value){switch(decoder.$){case 3:return"boolean"==typeof value?elm$core$Result$Ok(value):_Json_expecting("a BOOL",value);case 2:return"number"!=typeof value?_Json_expecting("an INT",value):-2147483647<value&&value<2147483647&&(0|value)===value?elm$core$Result$Ok(value):!isFinite(value)||value%1?_Json_expecting("an INT",value):elm$core$Result$Ok(value);case 4:return"number"==typeof value?elm$core$Result$Ok(value):_Json_expecting("a FLOAT",value);case 6:return"string"==typeof value?elm$core$Result$Ok(value):value instanceof String?elm$core$Result$Ok(value+""):_Json_expecting("a STRING",value);case 9:return null===value?elm$core$Result$Ok(decoder.c):_Json_expecting("null",value);case 5:return elm$core$Result$Ok(_Json_wrap(value));case 7:return Array.isArray(value)?_Json_runArrayDecoder(decoder.b,value,_List_fromArray):_Json_expecting("a LIST",value);case 8:return Array.isArray(value)?_Json_runArrayDecoder(decoder.b,value,_Json_toElmArray):_Json_expecting("an ARRAY",value);case 10:var field=decoder.d;if("object"!=typeof value||null===value||!(field in value))return _Json_expecting("an OBJECT with a field named `"+field+"`",value);var result=_Json_runHelp(decoder.b,value[field]);return elm$core$Result$isOk(result)?result:elm$core$Result$Err(A2(elm$json$Json$Decode$Field,field,result.a));case 11:var index=decoder.e;if(!Array.isArray(value))return _Json_expecting("an ARRAY",value);if(value.length<=index)return _Json_expecting("a LONGER array. Need index "+index+" but only see "+value.length+" entries",value);result=_Json_runHelp(decoder.b,value[index]);return elm$core$Result$isOk(result)?result:elm$core$Result$Err(A2(elm$json$Json$Decode$Index,index,result.a));case 12:if("object"!=typeof value||null===value||Array.isArray(value))return _Json_expecting("an OBJECT",value);var keyValuePairs=_List_Nil;for(var key in value)if(value.hasOwnProperty(key)){result=_Json_runHelp(decoder.b,value[key]);if(!elm$core$Result$isOk(result))return elm$core$Result$Err(A2(elm$json$Json$Decode$Field,key,result.a));keyValuePairs=_List_Cons(_Utils_Tuple2(key,result.a),keyValuePairs)}return elm$core$Result$Ok(elm$core$List$reverse(keyValuePairs));case 13:for(var answer=decoder.f,decoders=decoder.g,i=0;i<decoders.length;i++){result=_Json_runHelp(decoders[i],value);if(!elm$core$Result$isOk(result))return result;answer=answer(result.a)}return elm$core$Result$Ok(answer);case 14:result=_Json_runHelp(decoder.b,value);return elm$core$Result$isOk(result)?_Json_runHelp(decoder.h(result.a),value):result;case 15:for(var errors=_List_Nil,temp=decoder.g;temp.b;temp=temp.b){result=_Json_runHelp(temp.a,value);if(elm$core$Result$isOk(result))return result;errors=_List_Cons(result.a,errors)}return elm$core$Result$Err(elm$json$Json$Decode$OneOf(elm$core$List$reverse(errors)));case 1:return elm$core$Result$Err(A2(elm$json$Json$Decode$Failure,decoder.a,_Json_wrap(value)));case 0:return elm$core$Result$Ok(decoder.a)}}function _Json_runArrayDecoder(decoder,value,toElmValue){for(var len=value.length,array=Array(len),i=0;i<len;i++){var result=_Json_runHelp(decoder,value[i]);if(!elm$core$Result$isOk(result))return elm$core$Result$Err(A2(elm$json$Json$Decode$Index,i,result.a));array[i]=result.a}return elm$core$Result$Ok(toElmValue(array))}function _Json_toElmArray(array){return A2(elm$core$Array$initialize,array.length,function(i){return array[i]})}function _Json_expecting(type,value){return elm$core$Result$Err(A2(elm$json$Json$Decode$Failure,"Expecting "+type,_Json_wrap(value)))}function _Json_equality(x,y){if(x===y)return!0;if(x.$!==y.$)return!1;switch(x.$){case 0:case 1:return x.a===y.a;case 3:case 2:case 4:case 6:case 5:return!0;case 9:return x.c===y.c;case 7:case 8:case 12:return _Json_equality(x.b,y.b);case 10:return x.d===y.d&&_Json_equality(x.b,y.b);case 11:return x.e===y.e&&_Json_equality(x.b,y.b);case 13:return x.f===y.f&&_Json_listEquality(x.g,y.g);case 14:return x.h===y.h&&_Json_equality(x.b,y.b);case 15:return _Json_listEquality(x.g,y.g)}}function _Json_listEquality(aDecoders,bDecoders){var len=aDecoders.length;if(len!==bDecoders.length)return!1;for(var i=0;i<len;i++)if(!_Json_equality(aDecoders[i],bDecoders[i]))return!1;return!0}var _Json_encode=F2(function(indentLevel,value){return JSON.stringify(_Json_unwrap(value),null,indentLevel)+""});function _Json_wrap(value){return value}function _Json_unwrap(value){return value}_Json_wrap(null);function _Scheduler_succeed(value){return{$:0,a:value}}function _Scheduler_fail(error){return{$:1,a:error}}function _Scheduler_binding(callback){return{$:2,b:callback,c:null}}var _Scheduler_andThen=F2(function(callback,task){return{$:3,b:callback,d:task}}),_Scheduler_onError=F2(function(callback,task){return{$:4,b:callback,d:task}});var _Scheduler_guid=0;function _Scheduler_rawSpawn(task){var proc={$:0,e:_Scheduler_guid++,f:task,g:null,h:[]};return _Scheduler_enqueue(proc),proc}function _Scheduler_spawn(task){return _Scheduler_binding(function(callback){callback(_Scheduler_succeed(_Scheduler_rawSpawn(task)))})}function _Scheduler_rawSend(proc,msg){proc.h.push(msg),_Scheduler_enqueue(proc)}var _Scheduler_working=!1,_Scheduler_queue=[];function _Scheduler_enqueue(proc){if(_Scheduler_queue.push(proc),!_Scheduler_working){for(_Scheduler_working=!0;proc=_Scheduler_queue.shift();)_Scheduler_step(proc);_Scheduler_working=!1}}function _Scheduler_step(proc){for(;proc.f;){var rootTag=proc.f.$;if(0===rootTag||1===rootTag){for(;proc.g&&proc.g.$!==rootTag;)proc.g=proc.g.i;if(!proc.g)return;proc.f=proc.g.b(proc.f.a),proc.g=proc.g.i}else{if(2===rootTag)return void(proc.f.c=proc.f.b(function(newRoot){proc.f=newRoot,_Scheduler_enqueue(proc)}));if(5===rootTag){if(0===proc.h.length)return;proc.f=proc.f.b(proc.h.shift())}else proc.g={$:3===rootTag?0:1,b:proc.f.b,i:proc.g},proc.f=proc.f.d}}}function _Platform_initialize(flagDecoder,args,init,update,subscriptions,stepperBuilder){var result=A2(_Json_run,flagDecoder,_Json_wrap(args?args.flags:void 0));elm$core$Result$isOk(result)||_Debug_crash(2);var managers={},model=(result=init(result.a)).a,stepper=stepperBuilder(sendToApp,model),ports=function(managers,sendToApp){var ports;for(var key in _Platform_effectManagers){var manager=_Platform_effectManagers[key];manager.a&&((ports=ports||{})[key]=manager.a(key,sendToApp)),managers[key]=_Platform_instantiateManager(manager,sendToApp)}return ports}(managers,sendToApp);function sendToApp(msg,viewMetadata){stepper(model=(result=A2(update,msg,model)).a,viewMetadata),_Platform_dispatchEffects(managers,result.b,subscriptions(model))}return _Platform_dispatchEffects(managers,result.b,subscriptions(model)),ports?{ports:ports}:{}}var _Platform_effectManagers={};function _Platform_instantiateManager(info,sendToApp){var router={g:sendToApp,h:void 0},onEffects=info.c,onSelfMsg=info.d,cmdMap=info.e,subMap=info.f;function loop(state){return A2(_Scheduler_andThen,loop,{$:5,b:function(msg){var value=msg.a;return 0===msg.$?A3(onSelfMsg,router,value,state):cmdMap&&subMap?A4(onEffects,router,value.i,value.j,state):A3(onEffects,router,cmdMap?value.i:value.j,state)}})}return router.h=_Scheduler_rawSpawn(A2(_Scheduler_andThen,loop,info.b))}var _Platform_sendToApp=F2(function(router,msg){return _Scheduler_binding(function(callback){router.g(msg),callback(_Scheduler_succeed(_Utils_Tuple0))})});function _Platform_leaf(home){return function(value){return{$:1,k:home,l:value}}}function _Platform_batch(list){return{$:2,m:list}}function _Platform_dispatchEffects(managers,cmdBag,subBag){var effectsDict={};for(var home in _Platform_gatherEffects(!0,cmdBag,effectsDict,null),_Platform_gatherEffects(!1,subBag,effectsDict,null),managers)_Scheduler_rawSend(managers[home],{$:"fx",a:effectsDict[home]||{i:_List_Nil,j:_List_Nil}})}function _Platform_gatherEffects(isCmd,bag,effectsDict,taggers){switch(bag.$){case 1:var home=bag.k,effect=function(isCmd,home,taggers,value){function applyTaggers(x){for(var temp=taggers;temp;temp=temp.q)x=temp.p(x);return x}return A2(isCmd?_Platform_effectManagers[home].e:_Platform_effectManagers[home].f,applyTaggers,value)}(isCmd,home,taggers,bag.l);return void(effectsDict[home]=function(isCmd,newEffect,effects){return effects=effects||{i:_List_Nil,j:_List_Nil},isCmd?effects.i=_List_Cons(newEffect,effects.i):effects.j=_List_Cons(newEffect,effects.j),effects}(isCmd,effect,effectsDict[home]));case 2:for(var list=bag.m;list.b;list=list.b)_Platform_gatherEffects(isCmd,list.a,effectsDict,taggers);return;case 3:return void _Platform_gatherEffects(isCmd,bag.o,effectsDict,{p:bag.n,q:taggers})}}function _Platform_checkPortName(name){_Platform_effectManagers[name]&&_Debug_crash(3)}function _Platform_outgoingPort(name,converter){return _Platform_checkPortName(name),_Platform_effectManagers[name]={e:_Platform_outgoingPortMap,r:converter,a:_Platform_setupOutgoingPort},_Platform_leaf(name)}var _Platform_outgoingPortMap=F2(function(tagger,value){return value});function _Platform_setupOutgoingPort(name){var time,subs=[],converter=_Platform_effectManagers[name].r,init=(time=0,_Scheduler_binding(function(callback){var id=setTimeout(function(){callback(_Scheduler_succeed(_Utils_Tuple0))},time);return function(){clearTimeout(id)}}));return _Platform_effectManagers[name].b=init,_Platform_effectManagers[name].c=F3(function(router,cmdList){for(;cmdList.b;cmdList=cmdList.b)for(var currentSubs=subs,value=_Json_unwrap(converter(cmdList.a)),i=0;i<currentSubs.length;i++)currentSubs[i](value);return init}),{subscribe:function(callback){subs.push(callback)},unsubscribe:function(callback){var index=(subs=subs.slice()).indexOf(callback);index<0||subs.splice(index,1)}}}function _Platform_incomingPort(name,converter){return _Platform_checkPortName(name),_Platform_effectManagers[name]={f:_Platform_incomingPortMap,r:converter,a:_Platform_setupIncomingPort},_Platform_leaf(name)}var _Platform_incomingPortMap=F2(function(tagger,finalTagger){return function(value){return tagger(finalTagger(value))}});function _Platform_setupIncomingPort(name,sendToApp){var subs=_List_Nil,converter=_Platform_effectManagers[name].r,init=_Scheduler_succeed(null);return _Platform_effectManagers[name].b=init,_Platform_effectManagers[name].c=F3(function(router,subList){return subs=subList,init}),{send:function(incomingValue){var result=A2(_Json_run,converter,_Json_wrap(incomingValue));elm$core$Result$isOk(result)||_Debug_crash(4);for(var value=result.a,temp=subs;temp.b;temp=temp.b)sendToApp(temp.a(value))}}}var _Http_toTask=F2(function(request,maybeProgress){return _Scheduler_binding(function(callback){var xhr=new XMLHttpRequest;!function(xhr,maybeProgress){if(!elm$core$Maybe$isJust(maybeProgress))return;xhr.addEventListener("progress",function(event){event.lengthComputable&&_Scheduler_rawSpawn(maybeProgress.a({aJ:event.loaded,aK:event.total}))})}(xhr,maybeProgress),xhr.addEventListener("error",function(){callback(_Scheduler_fail(elm$http$Http$NetworkError))}),xhr.addEventListener("timeout",function(){callback(_Scheduler_fail(elm$http$Http$Timeout))}),xhr.addEventListener("load",function(){callback(function(xhr,responseToResult){var response=function(xhr){return{aE:xhr.responseURL,a4:{aO:xhr.status,aX:xhr.statusText},ah:function(rawHeaders){var headers=elm$core$Dict$empty;if(!rawHeaders)return headers;for(var headerPairs=rawHeaders.split("\r\n"),i=headerPairs.length;i--;){var headerPair=headerPairs[i],index=headerPair.indexOf(": ");if(0<index){var key=headerPair.substring(0,index),value=headerPair.substring(index+2);headers=A3(elm$core$Dict$update,key,function(oldValue){return elm$core$Maybe$Just(elm$core$Maybe$isJust(oldValue)?value+", "+oldValue.a:value)},headers)}}return headers}(xhr.getAllResponseHeaders()),Y:xhr.response}}(xhr);if(xhr.status<200||300<=xhr.status)return response.body=xhr.responseText,_Scheduler_fail(elm$http$Http$BadStatus(response));var result=responseToResult(response);return elm$core$Result$isOk(result)?_Scheduler_succeed(result.a):(response.body=xhr.responseText,_Scheduler_fail(A2(elm$http$Http$BadPayload,result.a,response)))}(xhr,request.af.a))});try{xhr.open(request.ak,request.aE,!0)}catch(e){return callback(_Scheduler_fail(elm$http$Http$BadUrl(request.aE)))}!function(xhr,request){for(var headers=request.ah;headers.b;headers=headers.b)xhr.setRequestHeader(headers.a.a,headers.a.b);xhr.responseType=request.af.b,xhr.withCredentials=request.aG,elm$core$Maybe$isJust(request.aD)&&(xhr.timeout=request.aD.a)}(xhr,request);var body=request.Y;return xhr.send(elm$http$Http$Internal$isStringBody(body)?(xhr.setRequestHeader("Content-Type",body.a),body.b):body.a),function(){xhr.abort()}})});var _VirtualDom_divertHrefToApp;var _VirtualDom_doc="undefined"!=typeof document?document:{};function _VirtualDom_appendChild(parent,child){parent.appendChild(child)}function _VirtualDom_text(string){return{$:0,a:string}}var _VirtualDom_nodeNS=F2(function(namespace,tag){return F2(function(factList,kidList){for(var kids=[],descendantsCount=0;kidList.b;kidList=kidList.b){var kid=kidList.a;descendantsCount+=kid.b||0,kids.push(kid)}return descendantsCount+=kids.length,{$:1,c:tag,d:_VirtualDom_organizeFacts(factList),e:kids,f:namespace,b:descendantsCount}})}),_VirtualDom_node=_VirtualDom_nodeNS(void 0);F2(function(namespace,tag){return F2(function(factList,kidList){for(var kids=[],descendantsCount=0;kidList.b;kidList=kidList.b){var kid=kidList.a;descendantsCount+=kid.b.b||0,kids.push(kid)}return descendantsCount+=kids.length,{$:2,c:tag,d:_VirtualDom_organizeFacts(factList),e:kids,f:namespace,b:descendantsCount}})})(void 0);var _VirtualDom_on=F2(function(key,handler){return{$:"a0",n:key,o:handler}}),_VirtualDom_style=F2(function(key,value){return{$:"a1",n:key,o:value}}),_VirtualDom_property=F2(function(key,value){return{$:"a2",n:key,o:value}}),_VirtualDom_attribute=F2(function(key,value){return{$:"a3",n:key,o:value}});function _VirtualDom_noJavaScriptOrHtmlUri(value){return/^\s*(javascript:|data:text\/html)/i.test(value)?"":value}var _VirtualDom_passiveSupported;function _VirtualDom_organizeFacts(factList){for(var facts={};factList.b;factList=factList.b){var entry=factList.a,tag=entry.$,key=entry.n,value=entry.o;if("a2"!==tag){var subFacts=facts[tag]||(facts[tag]={});"a3"===tag&&"class"===key?_VirtualDom_addClass(subFacts,key,value):subFacts[key]=value}else"className"===key?_VirtualDom_addClass(facts,key,_Json_unwrap(value)):facts[key]=_Json_unwrap(value)}return facts}function _VirtualDom_addClass(object,key,newClass){var classes=object[key];object[key]=classes?classes+" "+newClass:newClass}function _VirtualDom_render(vNode,eventNode){var tag=vNode.$;if(5===tag)return _VirtualDom_render(vNode.k||(vNode.k=vNode.m()),eventNode);if(0===tag)return _VirtualDom_doc.createTextNode(vNode.a);if(4===tag){for(var subNode=vNode.k,tagger=vNode.j;4===subNode.$;)"object"!=typeof tagger?tagger=[tagger,subNode.j]:tagger.push(subNode.j),subNode=subNode.k;var subEventRoot={j:tagger,p:eventNode};return(domNode=_VirtualDom_render(subNode,subEventRoot)).elm_event_node_ref=subEventRoot,domNode}if(3===tag)return _VirtualDom_applyFacts(domNode=vNode.h(vNode.g),eventNode,vNode.d),domNode;var domNode=vNode.f?_VirtualDom_doc.createElementNS(vNode.f,vNode.c):_VirtualDom_doc.createElement(vNode.c);_VirtualDom_divertHrefToApp&&"a"==vNode.c&&domNode.addEventListener("click",_VirtualDom_divertHrefToApp(domNode)),_VirtualDom_applyFacts(domNode,eventNode,vNode.d);for(var kids=vNode.e,i=0;i<kids.length;i++)_VirtualDom_appendChild(domNode,_VirtualDom_render(1===tag?kids[i]:kids[i].b,eventNode));return domNode}function _VirtualDom_applyFacts(domNode,eventNode,facts){for(var key in facts){var value=facts[key];"a1"===key?_VirtualDom_applyStyles(domNode,value):"a0"===key?_VirtualDom_applyEvents(domNode,eventNode,value):"a3"===key?_VirtualDom_applyAttrs(domNode,value):"a4"===key?_VirtualDom_applyAttrsNS(domNode,value):("value"!==key&&"checked"!==key||domNode[key]!==value)&&(domNode[key]=value)}}function _VirtualDom_applyStyles(domNode,styles){var domNodeStyle=domNode.style;for(var key in styles)domNodeStyle[key]=styles[key]}function _VirtualDom_applyAttrs(domNode,attrs){for(var key in attrs){var value=attrs[key];void 0!==value?domNode.setAttribute(key,value):domNode.removeAttribute(key)}}function _VirtualDom_applyAttrsNS(domNode,nsAttrs){for(var key in nsAttrs){var pair=nsAttrs[key],namespace=pair.f,value=pair.o;void 0!==value?domNode.setAttributeNS(namespace,key,value):domNode.removeAttributeNS(namespace,key)}}function _VirtualDom_applyEvents(domNode,eventNode,events){var allCallbacks=domNode.elmFs||(domNode.elmFs={});for(var key in events){var newHandler=events[key],oldCallback=allCallbacks[key];if(newHandler){if(oldCallback){if(oldCallback.q.$===newHandler.$){oldCallback.q=newHandler;continue}domNode.removeEventListener(key,oldCallback)}oldCallback=_VirtualDom_makeCallback(eventNode,newHandler),domNode.addEventListener(key,oldCallback,_VirtualDom_passiveSupported&&{passive:elm$virtual_dom$VirtualDom$toHandlerInt(newHandler)<2}),allCallbacks[key]=oldCallback}else domNode.removeEventListener(key,oldCallback),allCallbacks[key]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){_VirtualDom_passiveSupported=!0}}))}catch(e){}function _VirtualDom_makeCallback(eventNode,initialHandler){function callback(event){var handler=callback.q,result=_Json_runHelp(handler.a,event);if(elm$core$Result$isOk(result)){for(var tagger,tag=elm$virtual_dom$VirtualDom$toHandlerInt(handler),value=result.a,message=tag?tag<3?value.a:value.aX:value,stopPropagation=1==tag?value.b:3==tag&&value.a5,currentEventNode=(stopPropagation&&event.stopPropagation(),(2==tag?value.b:3==tag&&value.a$)&&event.preventDefault(),eventNode);tagger=currentEventNode.j;){if("function"==typeof tagger)message=tagger(message);else for(var i=tagger.length;i--;)message=tagger[i](message);currentEventNode=currentEventNode.p}currentEventNode(message,stopPropagation)}}return callback.q=initialHandler,callback}function _VirtualDom_equalEvents(x,y){return x.$==y.$&&_Json_equality(x.a,y.a)}function _VirtualDom_diff(x,y){var patches=[];return _VirtualDom_diffHelp(x,y,patches,0),patches}function _VirtualDom_pushPatch(patches,type,index,data){var patch={$:type,r:index,s:data,t:void 0,u:void 0};return patches.push(patch),patch}function _VirtualDom_diffHelp(x,y,patches,index){if(x!==y){var xType=x.$,yType=y.$;if(xType!==yType){if(1!==xType||2!==yType)return void _VirtualDom_pushPatch(patches,0,index,y);y=function(keyedNode){for(var keyedKids=keyedNode.e,len=keyedKids.length,kids=Array(len),i=0;i<len;i++)kids[i]=keyedKids[i].b;return{$:1,c:keyedNode.c,d:keyedNode.d,e:kids,f:keyedNode.f,b:keyedNode.b}}(y),yType=1}switch(yType){case 5:for(var xRefs=x.l,yRefs=y.l,i=xRefs.length,same=i===yRefs.length;same&&i--;)same=xRefs[i]===yRefs[i];if(same)return void(y.k=x.k);y.k=y.m();var subPatches=[];return _VirtualDom_diffHelp(x.k,y.k,subPatches,0),void(0<subPatches.length&&_VirtualDom_pushPatch(patches,1,index,subPatches));case 4:for(var xTaggers=x.j,yTaggers=y.j,nesting=!1,xSubNode=x.k;4===xSubNode.$;)nesting=!0,"object"!=typeof xTaggers?xTaggers=[xTaggers,xSubNode.j]:xTaggers.push(xSubNode.j),xSubNode=xSubNode.k;for(var ySubNode=y.k;4===ySubNode.$;)nesting=!0,"object"!=typeof yTaggers?yTaggers=[yTaggers,ySubNode.j]:yTaggers.push(ySubNode.j),ySubNode=ySubNode.k;return nesting&&xTaggers.length!==yTaggers.length?void _VirtualDom_pushPatch(patches,0,index,y):((nesting?function(as,bs){for(var i=0;i<as.length;i++)if(as[i]!==bs[i])return!1;return!0}(xTaggers,yTaggers):xTaggers===yTaggers)||_VirtualDom_pushPatch(patches,2,index,yTaggers),void _VirtualDom_diffHelp(xSubNode,ySubNode,patches,index+1));case 0:return void(x.a!==y.a&&_VirtualDom_pushPatch(patches,3,index,y.a));case 1:return void _VirtualDom_diffNodes(x,y,patches,index,_VirtualDom_diffKids);case 2:return void _VirtualDom_diffNodes(x,y,patches,index,_VirtualDom_diffKeyedKids);case 3:if(x.h!==y.h)return void _VirtualDom_pushPatch(patches,0,index,y);var factsDiff=_VirtualDom_diffFacts(x.d,y.d);factsDiff&&_VirtualDom_pushPatch(patches,4,index,factsDiff);var patch=y.i(x.g,y.g);return void(patch&&_VirtualDom_pushPatch(patches,5,index,patch))}}}function _VirtualDom_diffNodes(x,y,patches,index,diffKids){if(x.c===y.c&&x.f===y.f){var factsDiff=_VirtualDom_diffFacts(x.d,y.d);factsDiff&&_VirtualDom_pushPatch(patches,4,index,factsDiff),diffKids(x,y,patches,index)}else _VirtualDom_pushPatch(patches,0,index,y)}function _VirtualDom_diffFacts(x,y,category){var diff;for(var xKey in x)if("a1"!==xKey&&"a0"!==xKey&&"a3"!==xKey&&"a4"!==xKey)if(xKey in y){var xValue=x[xKey],yValue=y[xKey];xValue===yValue&&"value"!==xKey&&"checked"!==xKey||"a0"===category&&_VirtualDom_equalEvents(xValue,yValue)||((diff=diff||{})[xKey]=yValue)}else(diff=diff||{})[xKey]=category?"a1"===category?"":"a0"===category||"a3"===category?void 0:{f:x[xKey].f,o:void 0}:"string"==typeof x[xKey]?"":null;else{var subDiff=_VirtualDom_diffFacts(x[xKey],y[xKey]||{},xKey);subDiff&&((diff=diff||{})[xKey]=subDiff)}for(var yKey in y)yKey in x||((diff=diff||{})[yKey]=y[yKey]);return diff}function _VirtualDom_diffKids(xParent,yParent,patches,index){var xKids=xParent.e,yKids=yParent.e,xLen=xKids.length,yLen=yKids.length;yLen<xLen?_VirtualDom_pushPatch(patches,6,index,{v:yLen,i:xLen-yLen}):xLen<yLen&&_VirtualDom_pushPatch(patches,7,index,{v:xLen,e:yKids});for(var minLen=xLen<yLen?xLen:yLen,i=0;i<minLen;i++){var xKid=xKids[i];_VirtualDom_diffHelp(xKid,yKids[i],patches,++index),index+=xKid.b||0}}function _VirtualDom_diffKeyedKids(xParent,yParent,patches,rootIndex){for(var localPatches=[],changes={},inserts=[],xKids=xParent.e,yKids=yParent.e,xLen=xKids.length,yLen=yKids.length,xIndex=0,yIndex=0,index=rootIndex;xIndex<xLen&&yIndex<yLen;){var xKey=(x=xKids[xIndex]).a,yKey=(y=yKids[yIndex]).a,xNode=x.b,yNode=y.b,newMatch=void 0,oldMatch=void 0;if(xKey!==yKey){var xNext=xKids[xIndex+1],yNext=yKids[yIndex+1];if(xNext){var xNextKey=xNext.a,xNextNode=xNext.b;oldMatch=yKey===xNextKey}if(yNext){var yNextKey=yNext.a,yNextNode=yNext.b;newMatch=xKey===yNextKey}if(newMatch&&oldMatch)_VirtualDom_diffHelp(xNode,yNextNode,localPatches,++index),_VirtualDom_insertNode(changes,localPatches,xKey,yNode,yIndex,inserts),index+=xNode.b||0,_VirtualDom_removeNode(changes,localPatches,xKey,xNextNode,++index),index+=xNextNode.b||0,xIndex+=2,yIndex+=2;else if(newMatch)index++,_VirtualDom_insertNode(changes,localPatches,yKey,yNode,yIndex,inserts),_VirtualDom_diffHelp(xNode,yNextNode,localPatches,index),index+=xNode.b||0,xIndex+=1,yIndex+=2;else if(oldMatch)_VirtualDom_removeNode(changes,localPatches,xKey,xNode,++index),index+=xNode.b||0,_VirtualDom_diffHelp(xNextNode,yNode,localPatches,++index),index+=xNextNode.b||0,xIndex+=2,yIndex+=1;else{if(!xNext||xNextKey!==yNextKey)break;_VirtualDom_removeNode(changes,localPatches,xKey,xNode,++index),_VirtualDom_insertNode(changes,localPatches,yKey,yNode,yIndex,inserts),index+=xNode.b||0,_VirtualDom_diffHelp(xNextNode,yNextNode,localPatches,++index),index+=xNextNode.b||0,xIndex+=2,yIndex+=2}}else _VirtualDom_diffHelp(xNode,yNode,localPatches,++index),index+=xNode.b||0,xIndex++,yIndex++}for(;xIndex<xLen;){var x;_VirtualDom_removeNode(changes,localPatches,(x=xKids[xIndex]).a,xNode=x.b,++index),index+=xNode.b||0,xIndex++}for(;yIndex<yLen;){var y,endInserts=endInserts||[];_VirtualDom_insertNode(changes,localPatches,(y=yKids[yIndex]).a,y.b,void 0,endInserts),yIndex++}(0<localPatches.length||0<inserts.length||endInserts)&&_VirtualDom_pushPatch(patches,8,rootIndex,{w:localPatches,x:inserts,y:endInserts})}var _VirtualDom_POSTFIX="_elmW6BL";function _VirtualDom_insertNode(changes,localPatches,key,vnode,yIndex,inserts){var entry=changes[key];if(!entry)return inserts.push({r:yIndex,A:entry={c:0,z:vnode,r:yIndex,s:void 0}}),void(changes[key]=entry);if(1===entry.c){inserts.push({r:yIndex,A:entry}),entry.c=2;var subPatches=[];return _VirtualDom_diffHelp(entry.z,vnode,subPatches,entry.r),entry.r=yIndex,void(entry.s.s={w:subPatches,A:entry})}_VirtualDom_insertNode(changes,localPatches,key+_VirtualDom_POSTFIX,vnode,yIndex,inserts)}function _VirtualDom_removeNode(changes,localPatches,key,vnode,index){var entry=changes[key];if(entry){if(0===entry.c){entry.c=2;var subPatches=[];return _VirtualDom_diffHelp(vnode,entry.z,subPatches,index),void _VirtualDom_pushPatch(localPatches,9,index,{w:subPatches,A:entry})}_VirtualDom_removeNode(changes,localPatches,key+_VirtualDom_POSTFIX,vnode,index)}else{var patch=_VirtualDom_pushPatch(localPatches,9,index,void 0);changes[key]={c:1,z:vnode,r:index,s:patch}}}function _VirtualDom_addDomNodes(domNode,vNode,patches,eventNode){!function _VirtualDom_addDomNodesHelp(domNode,vNode,patches,i,low,high,eventNode){var patch=patches[i];var index=patch.r;for(;index===low;){var patchType=patch.$;if(1===patchType)_VirtualDom_addDomNodes(domNode,vNode.k,patch.s,eventNode);else if(8===patchType){patch.t=domNode,patch.u=eventNode;var subPatches=patch.s.w;0<subPatches.length&&_VirtualDom_addDomNodesHelp(domNode,vNode,subPatches,0,low,high,eventNode)}else if(9===patchType){patch.t=domNode,patch.u=eventNode;var data=patch.s;if(data){data.A.s=domNode;var subPatches=data.w;0<subPatches.length&&_VirtualDom_addDomNodesHelp(domNode,vNode,subPatches,0,low,high,eventNode)}}else patch.t=domNode,patch.u=eventNode;if(!(patch=patches[++i])||(index=patch.r)>high)return i}var tag=vNode.$;if(4===tag){for(var subNode=vNode.k;4===subNode.$;)subNode=subNode.k;return _VirtualDom_addDomNodesHelp(domNode,subNode,patches,i,low+1,high,domNode.elm_event_node_ref)}var vKids=vNode.e;var childNodes=domNode.childNodes;for(var j=0;j<vKids.length;j++){var vKid=1===tag?vKids[j]:vKids[j].b,nextLow=++low+(vKid.b||0);if(low<=index&&index<=nextLow&&(i=_VirtualDom_addDomNodesHelp(childNodes[j],vKid,patches,i,low,nextLow,eventNode),!(patch=patches[i])||(index=patch.r)>high))return i;low=nextLow}return i}(domNode,vNode,patches,0,0,vNode.b,eventNode)}function _VirtualDom_applyPatches(rootDomNode,oldVirtualNode,patches,eventNode){return 0===patches.length?rootDomNode:(_VirtualDom_addDomNodes(rootDomNode,oldVirtualNode,patches,eventNode),_VirtualDom_applyPatchesHelp(rootDomNode,patches))}function _VirtualDom_applyPatchesHelp(rootDomNode,patches){for(var i=0;i<patches.length;i++){var patch=patches[i],localDomNode=patch.t,newNode=_VirtualDom_applyPatch(localDomNode,patch);localDomNode===rootDomNode&&(rootDomNode=newNode)}return rootDomNode}function _VirtualDom_applyPatch(domNode,patch){switch(patch.$){case 0:return function(domNode,vNode,eventNode){var parentNode=domNode.parentNode,newNode=_VirtualDom_render(vNode,eventNode);newNode.elm_event_node_ref||(newNode.elm_event_node_ref=domNode.elm_event_node_ref);parentNode&&newNode!==domNode&&parentNode.replaceChild(newNode,domNode);return newNode}(domNode,patch.s,patch.u);case 4:return _VirtualDom_applyFacts(domNode,patch.u,patch.s),domNode;case 3:return domNode.replaceData(0,domNode.length,patch.s),domNode;case 1:return _VirtualDom_applyPatchesHelp(domNode,patch.s);case 2:return domNode.elm_event_node_ref?domNode.elm_event_node_ref.j=patch.s:domNode.elm_event_node_ref={j:patch.s,p:patch.u},domNode;case 6:for(var data=patch.s,i=0;i<data.i;i++)domNode.removeChild(domNode.childNodes[data.v]);return domNode;case 7:for(var kids=(data=patch.s).e,theEnd=domNode.childNodes[i=data.v];i<kids.length;i++)domNode.insertBefore(_VirtualDom_render(kids[i],patch.u),theEnd);return domNode;case 9:if(!(data=patch.s))return domNode.parentNode.removeChild(domNode),domNode;var entry=data.A;return void 0!==entry.r&&domNode.parentNode.removeChild(domNode),entry.s=_VirtualDom_applyPatchesHelp(domNode,data.w),domNode;case 8:return function(domNode,patch){var data=patch.s,frag=function(endInserts,patch){if(!endInserts)return;for(var frag=_VirtualDom_doc.createDocumentFragment(),i=0;i<endInserts.length;i++){var insert=endInserts[i],entry=insert.A;_VirtualDom_appendChild(frag,2===entry.c?entry.s:_VirtualDom_render(entry.z,patch.u))}return frag}(data.y,patch);domNode=_VirtualDom_applyPatchesHelp(domNode,data.w);for(var inserts=data.x,i=0;i<inserts.length;i++){var insert=inserts[i],entry=insert.A,node=2===entry.c?entry.s:_VirtualDom_render(entry.z,patch.u);domNode.insertBefore(node,domNode.childNodes[insert.r])}frag&&_VirtualDom_appendChild(domNode,frag);return domNode}(domNode,patch);case 5:return patch.s(domNode);default:_Debug_crash(10)}}function _VirtualDom_virtualize(node){if(3===node.nodeType)return _VirtualDom_text(node.textContent);if(1!==node.nodeType)return _VirtualDom_text("");for(var attrList=_List_Nil,attrs=node.attributes,i=attrs.length;i--;){var attr=attrs[i];attrList=_List_Cons(A2(_VirtualDom_attribute,attr.name,attr.value),attrList)}var tag=node.tagName.toLowerCase(),kidList=_List_Nil,kids=node.childNodes;for(i=kids.length;i--;)kidList=_List_Cons(_VirtualDom_virtualize(kids[i]),kidList);return A3(_VirtualDom_node,tag,attrList,kidList)}var _Browser_element=F4(function(impl,flagDecoder,debugMetadata,args){return _Platform_initialize(flagDecoder,args,impl.aV,impl.a9,impl.a6,function(sendToApp,initialModel){var view=impl.ba,domNode=args.node,currNode=_VirtualDom_virtualize(domNode);return _Browser_makeAnimator(initialModel,function(model){var nextNode=view(model),patches=_VirtualDom_diff(currNode,nextNode);domNode=_VirtualDom_applyPatches(domNode,currNode,patches,sendToApp),currNode=nextNode})})}),_Browser_requestAnimationFrame="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(callback){setTimeout(callback,1e3/60)};function _Browser_makeAnimator(model,draw){draw(model);var state=0;function updateIfNeeded(){state=1===state?0:(_Browser_requestAnimationFrame(updateIfNeeded),draw(model),1)}return function(nextModel,isSync){model=nextModel,isSync?(draw(model),2===state&&(state=1)):(0===state&&_Browser_requestAnimationFrame(updateIfNeeded),state=2)}}var _Browser_fakeNode={addEventListener:function(){},removeEventListener:function(){}},_Browser_doc="undefined"!=typeof document?document:_Browser_fakeNode,_Browser_window="undefined"!=typeof window?window:_Browser_fakeNode;function _Browser_withNode(id,doStuff){return _Scheduler_binding(function(callback){_Browser_requestAnimationFrame(function(){var node=document.getElementById(id);callback(node?_Scheduler_succeed(doStuff(node)):_Scheduler_fail(elm$browser$Browser$Dom$NotFound(id)))})})}function _Browser_getScene(){var body=_Browser_doc.body,elem=_Browser_doc.documentElement;return{K:Math.max(body.scrollWidth,body.offsetWidth,elem.scrollWidth,elem.offsetWidth,elem.clientWidth),B:Math.max(body.scrollHeight,body.offsetHeight,elem.scrollHeight,elem.offsetHeight,elem.clientHeight)}}var subMap,author$project$Model$EnvMsg=function(a){return{$:0,a:a}},author$project$Model$FilesAmount=function(a){return{$:4,a:a}},author$project$Model$Open=function(a){return{$:0,a:a}},author$project$Model$Progress=function(a){return{$:5,a:a}},author$project$Model$Uploaded=function(a){return{$:7,a:a}},elm$core$Array$Array_elm_builtin=F4(function(a,b,c,d){return{$:0,a:a,b:b,c:c,d:d}}),elm$core$Basics$EQ=1,elm$core$Basics$GT=2,elm$core$Basics$LT=0,elm$core$Dict$foldr=F3(function(func,acc,t){for(;;){if(-2===t.$)return acc;var left=t.d,$temp$func=func,$temp$acc=A3(func,t.b,t.c,A3(elm$core$Dict$foldr,func,acc,t.e));func=$temp$func,acc=$temp$acc,t=left}}),elm$core$List$cons=_List_cons,elm$core$Dict$toList=function(dict){return A3(elm$core$Dict$foldr,F3(function(key,value,list){return A2(elm$core$List$cons,_Utils_Tuple2(key,value),list)}),_List_Nil,dict)},elm$core$Basics$ceiling=_Basics_ceiling,elm$core$Basics$logBase=F2(function(base,number){return _Basics_log(number)/_Basics_log(base)}),elm$core$Array$shiftStep=elm$core$Basics$ceiling(A2(elm$core$Basics$logBase,2,32)),elm$core$Elm$JsArray$empty=[],elm$core$Array$empty=A4(elm$core$Array$Array_elm_builtin,0,elm$core$Array$shiftStep,elm$core$Elm$JsArray$empty,elm$core$Elm$JsArray$empty),elm$core$Elm$JsArray$initializeFromList=_JsArray_initializeFromList,elm$core$List$foldl=F3(function(func,acc,list){for(;;){if(!list.b)return acc;var xs=list.b,$temp$func=func,$temp$acc=A2(func,list.a,acc);func=$temp$func,acc=$temp$acc,list=xs}}),elm$core$List$reverse=function(list){return A3(elm$core$List$foldl,elm$core$List$cons,_List_Nil,list)},elm$core$Array$compressNodes=F2(function(nodes,acc){for(;;){var _n0=A2(elm$core$Elm$JsArray$initializeFromList,32,nodes),remainingNodes=_n0.b,newAcc=A2(elm$core$List$cons,{$:0,a:_n0.a},acc);if(!remainingNodes.b)return elm$core$List$reverse(newAcc);nodes=remainingNodes,acc=newAcc}}),elm$core$Tuple$first=function(_n0){return _n0.a},elm$core$Array$treeFromBuilder=F2(function(nodeList,nodeListSize){for(;;){var newNodeSize=elm$core$Basics$ceiling(nodeListSize/32);if(1===newNodeSize)return A2(elm$core$Elm$JsArray$initializeFromList,32,nodeList).a;nodeList=A2(elm$core$Array$compressNodes,nodeList,_List_Nil),nodeListSize=newNodeSize}}),elm$core$Basics$floor=_Basics_floor,elm$core$Basics$max=F2(function(x,y){return 0<_Utils_cmp(x,y)?x:y}),elm$core$Elm$JsArray$length=function(array){return array.length},elm$core$Array$builderToArray=F2(function(reverseNodeList,builder){if(builder.a){var treeLen=32*builder.a,depth=elm$core$Basics$floor(A2(elm$core$Basics$logBase,32,treeLen-1)),correctNodeList=reverseNodeList?elm$core$List$reverse(builder.d):builder.d,tree=A2(elm$core$Array$treeFromBuilder,correctNodeList,builder.a);return A4(elm$core$Array$Array_elm_builtin,elm$core$Elm$JsArray$length(builder.c)+treeLen,A2(elm$core$Basics$max,5,depth*elm$core$Array$shiftStep),tree,builder.c)}return A4(elm$core$Array$Array_elm_builtin,elm$core$Elm$JsArray$length(builder.c),elm$core$Array$shiftStep,elm$core$Elm$JsArray$empty,builder.c)}),elm$core$Elm$JsArray$initialize=_JsArray_initialize,elm$core$Array$initializeHelp=F5(function(fn,fromIndex,len,nodeList,tail){for(;;){if(fromIndex<0)return A2(elm$core$Array$builderToArray,!1,{d:nodeList,a:len/32|0,c:tail});var leaf={$:1,a:A3(elm$core$Elm$JsArray$initialize,32,fromIndex,fn)};fn=fn,fromIndex=fromIndex-32,len=len,nodeList=A2(elm$core$List$cons,leaf,nodeList),tail=tail}}),elm$core$Array$initialize=F2(function(len,fn){if(0<len){var tailLen=len%32;return A5(elm$core$Array$initializeHelp,fn,len-tailLen-32,len,_List_Nil,A3(elm$core$Elm$JsArray$initialize,tailLen,len-tailLen,fn))}return elm$core$Array$empty}),elm$core$Maybe$Just=function(a){return{$:0,a:a}},elm$core$Maybe$Nothing={$:1},elm$core$Result$Err=function(a){return{$:1,a:a}},elm$core$Result$Ok=function(a){return{$:0,a:a}},elm$core$Result$isOk=function(result){return!result.$},elm$json$Json$Decode$Failure=F2(function(a,b){return{$:3,a:a,b:b}}),elm$json$Json$Decode$Field=F2(function(a,b){return{$:0,a:a,b:b}}),elm$json$Json$Decode$Index=F2(function(a,b){return{$:1,a:a,b:b}}),elm$json$Json$Decode$OneOf=function(a){return{$:2,a:a}},elm$core$Basics$append=_Utils_append,elm$core$Char$toCode=function(char){var code=char.charCodeAt(0);return code<55296||56319<code?code:1024*(code-55296)+char.charCodeAt(1)-56320+65536},elm$core$Char$isLower=function(_char){var code=elm$core$Char$toCode(_char);return 97<=code&&code<=122},elm$core$Char$isUpper=function(_char){var code=elm$core$Char$toCode(_char);return code<=90&&65<=code},elm$core$Char$isAlpha=function(_char){return elm$core$Char$isLower(_char)||elm$core$Char$isUpper(_char)},elm$core$Char$isAlphaNum=function(_char){return elm$core$Char$isLower(_char)||elm$core$Char$isUpper(_char)||function(_char){var code=elm$core$Char$toCode(_char);return code<=57&&48<=code}(_char)},elm$core$List$length=function(xs){return A3(elm$core$List$foldl,F2(function(_n0,i){return i+1}),0,xs)},elm$core$List$map2=_List_map2,elm$core$List$rangeHelp=F3(function(lo,hi,list){for(;;){if(1<=_Utils_cmp(lo,hi))return list;var $temp$lo=lo,$temp$hi=hi-1,$temp$list=A2(elm$core$List$cons,hi,list);lo=$temp$lo,hi=$temp$hi,list=$temp$list}}),elm$core$List$range=F2(function(lo,hi){return A3(elm$core$List$rangeHelp,lo,hi,_List_Nil)}),elm$core$List$indexedMap=F2(function(f,xs){return A3(elm$core$List$map2,f,A2(elm$core$List$range,0,elm$core$List$length(xs)-1),xs)}),elm$core$String$all=_String_all,elm$core$String$fromInt=_String_fromNumber,elm$core$String$join=F2(function(sep,chunks){return A2(_String_join,sep,_List_toArray(chunks))}),elm$core$String$uncons=function(string){var word=string.charCodeAt(0);return word?elm$core$Maybe$Just(word<55296||56319<word?_Utils_Tuple2(_Utils_chr(string[0]),string.slice(1)):_Utils_Tuple2(_Utils_chr(string[0]+string[1]),string.slice(2))):elm$core$Maybe$Nothing},elm$core$String$split=F2(function(sep,string){return _List_fromArray(A2(_String_split,sep,string))}),elm$json$Json$Decode$indent=function(str){return A2(elm$core$String$join,"\n    ",A2(elm$core$String$split,"\n",str))},elm$json$Json$Encode$encode=_Json_encode,elm$json$Json$Decode$errorOneOf=F2(function(i,error){return"\n\n("+elm$core$String$fromInt(i+1)+") "+elm$json$Json$Decode$indent(elm$json$Json$Decode$errorToString(error))}),elm$json$Json$Decode$errorToString=function(error){return A2(elm$json$Json$Decode$errorToStringHelp,error,_List_Nil)},elm$json$Json$Decode$errorToStringHelp=F2(function(error,context){errorToStringHelp:for(;;)switch(error.$){case 0:var f=error.a,err=error.b,isSimple=function(){var _n1=elm$core$String$uncons(f);if(1===_n1.$)return!1;var _n2=_n1.a,rest=_n2.b;return elm$core$Char$isAlpha(_n2.a)&&A2(elm$core$String$all,elm$core$Char$isAlphaNum,rest)}();error=err,context=A2(elm$core$List$cons,isSimple?"."+f:"['"+f+"']",context);continue errorToStringHelp;case 1:err=error.b;var indexName="["+elm$core$String$fromInt(error.a)+"]";error=err,context=A2(elm$core$List$cons,indexName,context);continue errorToStringHelp;case 2:var errors=error.a;if(errors.b){if(errors.b.b){var introduction=(context.b?"The Json.Decode.oneOf at json"+A2(elm$core$String$join,"",elm$core$List$reverse(context)):"Json.Decode.oneOf")+" failed in the following "+elm$core$String$fromInt(elm$core$List$length(errors))+" ways:";return A2(elm$core$String$join,"\n\n",A2(elm$core$List$cons,introduction,A2(elm$core$List$indexedMap,elm$json$Json$Decode$errorOneOf,errors)))}error=err=errors.a,context=context;continue errorToStringHelp}return"Ran into a Json.Decode.oneOf with no possibilities"+(context.b?" at json"+A2(elm$core$String$join,"",elm$core$List$reverse(context)):"!");default:var msg=error.a,json=error.b;return(introduction=context.b?"Problem with the value at json"+A2(elm$core$String$join,"",elm$core$List$reverse(context))+":\n\n    ":"Problem with the given value:\n\n")+(elm$json$Json$Decode$indent(A2(elm$json$Json$Encode$encode,4,json))+"\n\n")+msg}}),elm$json$Json$Decode$int={$:2},author$project$Port$onFilesAmount=_Platform_incomingPort("onFilesAmount",elm$json$Json$Decode$int),elm$json$Json$Decode$null=function(value){return{$:9,c:value}},author$project$Port$onOpen=_Platform_incomingPort("onOpen",elm$json$Json$Decode$null(0)),author$project$Port$onProgress=_Platform_incomingPort("onProgress",elm$json$Json$Decode$int),author$project$Port$onUploaded=_Platform_incomingPort("onUploaded",elm$json$Json$Decode$null(0)),elm$core$Basics$composeL=F3(function(g,f,x){return g(f(x))}),elm$core$Platform$Sub$batch=_Platform_batch,elm$json$Json$Decode$bool={$:3},elm$json$Json$Decode$field=_Json_decodeField,elm$json$Json$Decode$map2=_Json_map2,elm$json$Json$Decode$string={$:6},author$project$Action$fileDecoder=A3(elm$json$Json$Decode$map2,F2(function(x,y){return{aW:y,am:x}}),A2(elm$json$Json$Decode$field,"name",elm$json$Json$Decode$string),A2(elm$json$Json$Decode$field,"isDir",elm$json$Json$Decode$bool)),elm$http$Http$emptyBody={$:0},elm$core$Dict$RBEmpty_elm_builtin={$:-2},elm$core$Dict$empty=elm$core$Dict$RBEmpty_elm_builtin,elm$core$Basics$compare=_Utils_compare,elm$core$Dict$get=F2(function(targetKey,dict){get:for(;;){if(-2===dict.$)return elm$core$Maybe$Nothing;var value=dict.c,left=dict.d,right=dict.e;switch(A2(elm$core$Basics$compare,targetKey,dict.b)){case 0:targetKey=targetKey,dict=left;continue get;case 1:return elm$core$Maybe$Just(value);default:targetKey=targetKey,dict=right;continue get}}}),elm$core$Dict$RBNode_elm_builtin=F5(function(a,b,c,d,e){return{$:-1,a:a,b:b,c:c,d:d,e:e}}),elm$core$Dict$balance=F5(function(color,key,value,left,right){if(-1!==right.$||right.a){if(-1!==left.$||left.a||-1!==left.d.$||left.d.a)return A5(elm$core$Dict$RBNode_elm_builtin,color,key,value,left,right);var _n6=left.d;lRight=left.e;return A5(elm$core$Dict$RBNode_elm_builtin,0,left.b,left.c,A5(elm$core$Dict$RBNode_elm_builtin,1,_n6.b,_n6.c,_n6.d,_n6.e),A5(elm$core$Dict$RBNode_elm_builtin,1,key,value,lRight,right))}var rK=right.b,rV=right.c,rLeft=right.d,rRight=right.e;if(-1!==left.$||left.a)return A5(elm$core$Dict$RBNode_elm_builtin,color,rK,rV,A5(elm$core$Dict$RBNode_elm_builtin,0,key,value,left,rLeft),rRight);var lRight;return A5(elm$core$Dict$RBNode_elm_builtin,0,key,value,A5(elm$core$Dict$RBNode_elm_builtin,1,left.b,left.c,left.d,lRight=left.e),A5(elm$core$Dict$RBNode_elm_builtin,1,rK,rV,rLeft,rRight))}),elm$core$Dict$insertHelp=F3(function(key,value,dict){if(-2===dict.$)return A5(elm$core$Dict$RBNode_elm_builtin,0,key,value,elm$core$Dict$RBEmpty_elm_builtin,elm$core$Dict$RBEmpty_elm_builtin);var nColor=dict.a,nKey=dict.b,nValue=dict.c,nLeft=dict.d,nRight=dict.e;switch(A2(elm$core$Basics$compare,key,nKey)){case 0:return A5(elm$core$Dict$balance,nColor,nKey,nValue,A3(elm$core$Dict$insertHelp,key,value,nLeft),nRight);case 1:return A5(elm$core$Dict$RBNode_elm_builtin,nColor,nKey,value,nLeft,nRight);default:return A5(elm$core$Dict$balance,nColor,nKey,nValue,nLeft,A3(elm$core$Dict$insertHelp,key,value,nRight))}}),elm$core$Dict$insert=F3(function(key,value,dict){var _n0=A3(elm$core$Dict$insertHelp,key,value,dict);if(-1!==_n0.$||_n0.a)return _n0;return A5(elm$core$Dict$RBNode_elm_builtin,1,_n0.b,_n0.c,_n0.d,_n0.e)}),elm$core$Dict$moveRedLeft=function(dict){if(-1!==dict.$||-1!==dict.d.$||-1!==dict.e.$)return dict;if(-1!==dict.e.d.$||dict.e.d.a){var _n4=dict.d,_n5=dict.e;rK=_n5.b,rV=_n5.c,rLeft=_n5.d,rRight=_n5.e;return A5(elm$core$Dict$RBNode_elm_builtin,1,dict.b,dict.c,A5(elm$core$Dict$RBNode_elm_builtin,0,_n4.b,_n4.c,_n4.d,_n4.e),A5(elm$core$Dict$RBNode_elm_builtin,0,rK,rV,rLeft,rRight))}var rLeft,_n1=dict.d,_n2=dict.e,rK=_n2.b,rV=_n2.c,rlL=(rLeft=_n2.d,rLeft.d),rlR=rLeft.e,rRight=_n2.e;return A5(elm$core$Dict$RBNode_elm_builtin,0,rLeft.b,rLeft.c,A5(elm$core$Dict$RBNode_elm_builtin,1,dict.b,dict.c,A5(elm$core$Dict$RBNode_elm_builtin,0,_n1.b,_n1.c,_n1.d,_n1.e),rlL),A5(elm$core$Dict$RBNode_elm_builtin,1,rK,rV,rlR,rRight))},elm$core$Dict$moveRedRight=function(dict){if(-1!==dict.$||-1!==dict.d.$||-1!==dict.e.$)return dict;if(-1!==dict.d.d.$||dict.d.d.a){var _n5=dict.d,lLeft=_n5.d,_n6=dict.e;rK=_n6.b,rV=_n6.c,rLeft=_n6.d,rRight=_n6.e;return A5(elm$core$Dict$RBNode_elm_builtin,1,k=dict.b,v=dict.c,A5(elm$core$Dict$RBNode_elm_builtin,0,_n5.b,_n5.c,lLeft,lRight=_n5.e),A5(elm$core$Dict$RBNode_elm_builtin,0,rK,rV,rLeft,rRight))}var k=dict.b,v=dict.c,_n1=dict.d,_n2=_n1.d,lRight=_n1.e,_n4=dict.e,rK=_n4.b,rV=_n4.c,rLeft=_n4.d,rRight=_n4.e;return A5(elm$core$Dict$RBNode_elm_builtin,0,_n1.b,_n1.c,A5(elm$core$Dict$RBNode_elm_builtin,1,_n2.b,_n2.c,_n2.d,_n2.e),A5(elm$core$Dict$RBNode_elm_builtin,1,k,v,lRight,A5(elm$core$Dict$RBNode_elm_builtin,0,rK,rV,rLeft,rRight)))},elm$core$Dict$removeHelpPrepEQGT=F7(function(targetKey,dict,color,key,value,left,right){if(-1!==left.$||left.a){_n2$2:for(;-1===right.$&&1===right.a;){if(-1===right.d.$){if(1!==right.d.a)break _n2$2;return elm$core$Dict$moveRedRight(dict)}return elm$core$Dict$moveRedRight(dict)}return dict}return A5(elm$core$Dict$RBNode_elm_builtin,color,left.b,left.c,left.d,A5(elm$core$Dict$RBNode_elm_builtin,0,key,value,left.e,right))}),elm$core$Dict$removeMin=function(dict){if(-1!==dict.$||-1!==dict.d.$)return elm$core$Dict$RBEmpty_elm_builtin;var color=dict.a,key=dict.b,value=dict.c,left=dict.d,lLeft=left.d,right=dict.e;if(1!==left.a)return A5(elm$core$Dict$RBNode_elm_builtin,color,key,value,elm$core$Dict$removeMin(left),right);if(-1!==lLeft.$||lLeft.a){var _n4=elm$core$Dict$moveRedLeft(dict);if(-1!==_n4.$)return elm$core$Dict$RBEmpty_elm_builtin;var nRight=_n4.e;return A5(elm$core$Dict$balance,_n4.a,_n4.b,_n4.c,elm$core$Dict$removeMin(_n4.d),nRight)}return A5(elm$core$Dict$RBNode_elm_builtin,color,key,value,elm$core$Dict$removeMin(left),right)},elm$core$Dict$removeHelp=F2(function(targetKey,dict){if(-2===dict.$)return elm$core$Dict$RBEmpty_elm_builtin;var color=dict.a,key=dict.b,value=dict.c,left=dict.d,right=dict.e;if(_Utils_cmp(targetKey,key)<0){if(-1!==left.$||1!==left.a)return A5(elm$core$Dict$RBNode_elm_builtin,color,key,value,A2(elm$core$Dict$removeHelp,targetKey,left),right);var lLeft=left.d;if(-1!==lLeft.$||lLeft.a){var _n7=elm$core$Dict$moveRedLeft(dict);if(-1!==_n7.$)return elm$core$Dict$RBEmpty_elm_builtin;var nRight=_n7.e;return A5(elm$core$Dict$balance,_n7.a,_n7.b,_n7.c,A2(elm$core$Dict$removeHelp,targetKey,_n7.d),nRight)}return A5(elm$core$Dict$RBNode_elm_builtin,color,key,value,A2(elm$core$Dict$removeHelp,targetKey,left),right)}return A2(elm$core$Dict$removeHelpEQGT,targetKey,A7(elm$core$Dict$removeHelpPrepEQGT,targetKey,dict,color,key,value,left,right))}),elm$core$Dict$removeHelpEQGT=F2(function(targetKey,dict){if(-1!==dict.$)return elm$core$Dict$RBEmpty_elm_builtin;var color=dict.a,key=dict.b,value=dict.c,left=dict.d,right=dict.e;if(_Utils_eq(targetKey,key)){var _n1=function(dict){for(;;){if(-1!==dict.$||-1!==dict.d.$)return dict;dict=dict.d}}(right);return-1!==_n1.$?elm$core$Dict$RBEmpty_elm_builtin:A5(elm$core$Dict$balance,color,_n1.b,_n1.c,left,elm$core$Dict$removeMin(right))}return A5(elm$core$Dict$balance,color,key,value,left,A2(elm$core$Dict$removeHelp,targetKey,right))}),elm$core$Dict$remove=F2(function(key,dict){var _n0=A2(elm$core$Dict$removeHelp,key,dict);if(-1!==_n0.$||_n0.a)return _n0;return A5(elm$core$Dict$RBNode_elm_builtin,1,_n0.b,_n0.c,_n0.d,_n0.e)}),elm$core$Dict$update=F3(function(targetKey,alter,dictionary){var _n0=alter(A2(elm$core$Dict$get,targetKey,dictionary));return _n0.$?A2(elm$core$Dict$remove,targetKey,dictionary):A3(elm$core$Dict$insert,targetKey,_n0.a,dictionary)}),elm$core$Maybe$isJust=function(maybe){return!maybe.$},elm$http$Http$BadPayload=F2(function(a,b){return{$:4,a:a,b:b}}),elm$http$Http$BadStatus=function(a){return{$:3,a:a}},elm$http$Http$BadUrl=function(a){return{$:0,a:a}},elm$http$Http$NetworkError={$:2},elm$http$Http$Timeout={$:1},elm$http$Http$Internal$isStringBody=function(body){return 1===body.$},elm$http$Http$expectStringResponse=function(responseToResult){return{$:0,b:"text",a:responseToResult}},elm$json$Json$Decode$decodeString=_Json_runOnString,elm$http$Http$expectJson=function(decoder){return elm$http$Http$expectStringResponse(function(response){var _n0=A2(elm$json$Json$Decode$decodeString,decoder,response.Y);return 1!==_n0.$?elm$core$Result$Ok(_n0.a):elm$core$Result$Err(elm$json$Json$Decode$errorToString(_n0.a))})},elm$http$Http$header=F2(function(a,b){return{$:0,a:a,b:b}}),elm$core$Basics$identity=function(x){return x},elm$http$Http$request=elm$core$Basics$identity,author$project$Action$get=F3(function(jwtToken,url,decoder){return elm$http$Http$request({Y:elm$http$Http$emptyBody,af:elm$http$Http$expectJson(decoder),ah:_List_fromArray([A2(elm$http$Http$header,"Authorization","Bearer "+jwtToken)]),ak:"GET",aD:elm$core$Maybe$Nothing,aE:url,aG:!1})}),author$project$Model$LsGotten=function(a){return{$:9,a:a}},elm$core$Task$andThen=_Scheduler_andThen,elm$core$Task$succeed=_Scheduler_succeed,elm$core$Task$init=elm$core$Task$succeed(0),elm$core$List$foldrHelper=F4(function(fn,acc,ctr,ls){if(ls.b){var a=ls.a,r1=ls.b;if(r1.b){var b=r1.a,r2=r1.b;if(r2.b){var c=r2.a,r3=r2.b;if(r3.b){var r4=r3.b;return A2(fn,a,A2(fn,b,A2(fn,c,A2(fn,r3.a,500<ctr?A3(elm$core$List$foldl,fn,acc,elm$core$List$reverse(r4)):A4(elm$core$List$foldrHelper,fn,acc,ctr+1,r4)))))}return A2(fn,a,A2(fn,b,A2(fn,c,acc)))}return A2(fn,a,A2(fn,b,acc))}return A2(fn,a,acc)}return acc}),elm$core$List$foldr=F3(function(fn,acc,ls){return A4(elm$core$List$foldrHelper,fn,acc,0,ls)}),elm$core$List$map=F2(function(f,xs){return A3(elm$core$List$foldr,F2(function(x,acc){return A2(elm$core$List$cons,f(x),acc)}),_List_Nil,xs)}),elm$core$Task$map=F2(function(func,taskA){return A2(elm$core$Task$andThen,function(a){return elm$core$Task$succeed(func(a))},taskA)}),elm$core$Task$map2=F3(function(func,taskA,taskB){return A2(elm$core$Task$andThen,function(a){return A2(elm$core$Task$andThen,function(b){return elm$core$Task$succeed(A2(func,a,b))},taskB)},taskA)}),elm$core$Task$sequence=function(tasks){return A3(elm$core$List$foldr,elm$core$Task$map2(elm$core$List$cons),elm$core$Task$succeed(_List_Nil),tasks)},elm$core$Platform$sendToApp=_Platform_sendToApp,elm$core$Task$spawnCmd=F2(function(router,_n0){var task=_n0;return _Scheduler_spawn(A2(elm$core$Task$andThen,elm$core$Platform$sendToApp(router),task))});_Platform_effectManagers.Task={b:elm$core$Task$init,c:F3(function(router,commands){return A2(elm$core$Task$map,function(){return 0},elm$core$Task$sequence(A2(elm$core$List$map,elm$core$Task$spawnCmd(router),commands)))}),d:F3(function(){return elm$core$Task$succeed(0)}),e:F2(function(tagger,_n0){return A2(elm$core$Task$map,tagger,_n0)}),f:subMap};var skipCache,exports,elm$core$Task$command=_Platform_leaf("Task"),elm$core$Task$onError=_Scheduler_onError,elm$core$Task$attempt=F2(function(resultToMessage,task){return elm$core$Task$command(A2(elm$core$Task$onError,A2(elm$core$Basics$composeL,A2(elm$core$Basics$composeL,elm$core$Task$succeed,resultToMessage),elm$core$Result$Err),A2(elm$core$Task$andThen,A2(elm$core$Basics$composeL,A2(elm$core$Basics$composeL,elm$core$Task$succeed,resultToMessage),elm$core$Result$Ok),task)))}),elm$http$Http$send=F2(function(resultToMessage,request_){return A2(elm$core$Task$attempt,resultToMessage,A2(_Http_toTask,request_,elm$core$Maybe$Nothing))}),elm$json$Json$Decode$list=function(decoder){return{$:7,b:decoder}},author$project$Action$getLs=F3(function(api,jwtToken,dir){return A2(elm$http$Http$send,A2(elm$core$Basics$composeL,author$project$Model$EnvMsg,author$project$Model$LsGotten),A3(author$project$Action$get,jwtToken,api+"/ls?dir="+dir,elm$json$Json$Decode$list(author$project$Action$fileDecoder)))}),author$project$Vec$Vec2=F2(function(a,b){return{$:0,a:a,b:b}}),author$project$Vec$newBound={B:0,K:0,r:0,s:0},elm$url$Url$percentEncode=function(string){return encodeURIComponent(string)},elm$url$Url$Builder$QueryParameter=F2(function(a,b){return{$:0,a:a,b:b}}),elm$url$Url$Builder$string=F2(function(key,value){return A2(elm$url$Url$Builder$QueryParameter,elm$url$Url$percentEncode(key),elm$url$Url$percentEncode(value))}),author$project$Action$encodeFiles=elm$core$List$map(A2(elm$core$Basics$composeL,elm$url$Url$Builder$string("files"),function($){return $.am})),author$project$Action$post=F4(function(jwtToken,url,body,decoder){return elm$http$Http$request({Y:body,af:elm$http$Http$expectJson(decoder),ah:_List_fromArray([A2(elm$http$Http$header,"Authorization","Bearer "+jwtToken)]),ak:"POST",aD:elm$core$Maybe$Nothing,aE:url,aG:!1})}),elm$core$String$length=function(str){return str.length},elm$core$String$slice=_String_slice,elm$core$String$dropLeft=F2(function(n,string){return n<1?string:A3(elm$core$String$slice,n,elm$core$String$length(string),string)}),elm$url$Url$Builder$toQueryPair=function(_n0){return _n0.a+"="+_n0.b},elm$url$Url$Builder$toQuery=function(parameters){return parameters.b?"?"+A2(elm$core$String$join,"&",A2(elm$core$List$map,elm$url$Url$Builder$toQueryPair,parameters)):""},author$project$Action$urlBody=A2(elm$core$Basics$composeL,A2(elm$core$Basics$composeL,F2(function(a,b){return{$:1,a:a,b:b}})("application/x-www-form-urlencoded"),elm$core$String$dropLeft(1)),elm$url$Url$Builder$toQuery),author$project$Model$Refresh=function(a){return{$:10,a:a}},elm$json$Json$Decode$succeed=function(msg){return{$:0,a:msg}},author$project$Action$delete=F4(function(api,jwtToken,dir,files){return A2(elm$http$Http$send,A2(elm$core$Basics$composeL,author$project$Model$EnvMsg,author$project$Model$Refresh),A4(author$project$Action$post,jwtToken,api+"/delete",author$project$Action$urlBody(A2(elm$core$List$cons,A2(elm$url$Url$Builder$string,"dir",dir),author$project$Action$encodeFiles(files))),elm$json$Json$Decode$succeed(0)))}),author$project$Action$move=F5(function(api,jwtToken,srcDir,files,dstDir){return A2(elm$http$Http$send,A2(elm$core$Basics$composeL,author$project$Model$EnvMsg,author$project$Model$Refresh),A4(author$project$Action$post,jwtToken,api+"/move",author$project$Action$urlBody(_Utils_ap(_List_fromArray([A2(elm$url$Url$Builder$string,"srcDir",srcDir),A2(elm$url$Url$Builder$string,"dstDir",dstDir)]),author$project$Action$encodeFiles(files))),elm$json$Json$Decode$succeed(0)))}),author$project$Action$newDir=F4(function(api,jwtToken,dir,name){return A2(elm$http$Http$send,A2(elm$core$Basics$composeL,author$project$Model$EnvMsg,author$project$Model$Refresh),A4(author$project$Action$post,jwtToken,api+"/newDir",author$project$Action$urlBody(_List_fromArray([A2(elm$url$Url$Builder$string,"dir",dir),A2(elm$url$Url$Builder$string,"name",name)])),elm$json$Json$Decode$succeed(0)))}),author$project$Action$rename=F5(function(api,jwtToken,dir,oldName,newName){return A2(elm$http$Http$send,A2(elm$core$Basics$composeL,author$project$Model$EnvMsg,author$project$Model$Refresh),A4(author$project$Action$post,jwtToken,api+"/rename",author$project$Action$urlBody(_List_fromArray([A2(elm$url$Url$Builder$string,"dir",dir),A2(elm$url$Url$Builder$string,"oldName",oldName),A2(elm$url$Url$Builder$string,"newName",newName)])),elm$json$Json$Decode$succeed(0)))}),author$project$Model$GetBounds=function(a){return{$:4,a:a}},elm$browser$Browser$Dom$NotFound=elm$core$Basics$identity,elm$core$Basics$never=function(_n0){for(;;){_n0=_n0}},elm$core$Task$perform=F2(function(toMessage,task){return elm$core$Task$command(A2(elm$core$Task$map,toMessage,task))}),elm$json$Json$Decode$map=_Json_map1,elm$virtual_dom$VirtualDom$toHandlerInt=function(handler){switch(handler.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},elm$browser$Browser$Dom$getElement=function(id){return _Browser_withNode(id,function(node){var rect=node.getBoundingClientRect(),x=_Browser_window.pageXOffset,y=_Browser_window.pageYOffset;return{ax:_Browser_getScene(),aF:{r:x,s:y,K:_Browser_doc.documentElement.clientWidth,B:_Browser_doc.documentElement.clientHeight},aP:{r:x+rect.left,s:y+rect.top,K:rect.width,B:rect.height}}})},elm$json$Json$Encode$list=F2(function(func,entries){return _Json_wrap(A3(elm$core$List$foldl,function(func){return F2(function(entry,array){return array.push(_Json_unwrap(func(entry))),array})}(func),[],entries))}),elm$json$Json$Encode$string=_Json_wrap,author$project$Port$close=_Platform_outgoingPort("close",elm$json$Json$Encode$list(elm$json$Json$Encode$string)),author$project$Util$isJust=function(maybe){return!maybe.$},author$project$Util$zip=elm$core$List$map2(F2(function(x,y){return _Utils_Tuple2(x,y)})),elm$core$Basics$abs=function(n){return n<0?-n:n},author$project$Vec$isFar=F2(function(_n0,_n1){var y1=_n0.b,y2=_n1.b;return 3<elm$core$Basics$abs(_n0.a-_n1.a)||3<elm$core$Basics$abs(y1-y2)}),elm$core$Basics$min=F2(function(x,y){return _Utils_cmp(x,y)<0?x:y}),author$project$Vec$toBound=F2(function(v1,v2){var x2=v2.a,y2=v2.b,x1=v1.a,y1=v1.b,_n2=_Utils_Tuple2(A2(elm$core$Basics$min,x1,x2),A2(elm$core$Basics$min,y1,y2)),x=_n2.a,y=_n2.b,_n3=_Utils_Tuple2(A2(elm$core$Basics$max,x1,x2)-x,A2(elm$core$Basics$max,y1,y2)-y);return{B:_n3.b,K:_n3.a,r:x,s:y}}),elm$core$Basics$not=function(bool){return!bool},author$project$Vec$touchesBound=F2(function(b1,b2){return!(0<_Utils_cmp(b1.r,b2.r+b2.K)||0<_Utils_cmp(b1.s,b2.s+b2.B)||_Utils_cmp(b1.r+b1.K,b2.r)<0||_Utils_cmp(b1.s+b1.B,b2.s)<0)}),elm$core$Basics$neq=_Utils_notEqual,elm$core$List$filter=F2(function(isGood,list){return A3(elm$core$List$foldr,F2(function(x,xs){return isGood(x)?A2(elm$core$List$cons,x,xs):xs}),_List_Nil,list)}),elm$core$List$any=F2(function(isOkay,list){for(;;){if(!list.b)return!1;var xs=list.b;if(isOkay(list.a))return!0;isOkay=isOkay,list=xs}}),elm$core$List$member=F2(function(x,xs){return A2(elm$core$List$any,function(a){return _Utils_eq(a,x)},xs)}),elm$core$Platform$Cmd$none=_Platform_batch(_List_Nil),elm$core$Tuple$second=function(_n0){return _n0.b},author$project$Env$handleEnvMsg=F2(function(msg,model){switch(msg.$){case 0:return _Utils_Tuple2(_Utils_update(model,{U:!0}),elm$core$Platform$Cmd$none);case 1:return _Utils_Tuple2(_Utils_update(model,{U:!1,e:_List_Nil}),author$project$Port$close(_List_Nil));case 2:return _Utils_Tuple2(_Utils_update(model,{U:!1,e:_List_Nil}),author$project$Port$close(elm$core$List$reverse(A2(elm$core$List$map,A2(elm$core$Basics$composeL,elm$core$Basics$append(model.A),function($){return $.am}),model.e))));case 3:var ctrl=msg.c;return _Utils_Tuple2(_Utils_update(model,{P:maybe=msg.a,ab:ctrl,N:!0,V:msg.b,e:function(){if(maybe.$)return _List_Nil;var file=maybe.a;return A2(elm$core$List$member,file,model.e)?ctrl?A2(elm$core$List$filter,elm$core$Basics$neq(file),model.e):model.e:ctrl?A2(elm$core$List$cons,file,model.e):_List_fromArray([file])}(),aA:!1}),function(files){return A2(elm$core$Task$attempt,A2(elm$core$Basics$composeL,author$project$Model$EnvMsg,author$project$Model$GetBounds),elm$core$Task$sequence(A2(elm$core$List$indexedMap,F2(function(i){return elm$browser$Browser$Dom$getElement("fm-file-"+elm$core$String$fromInt(i))}),files)))}(model.M));case 4:if((result=msg.a).$){return _Utils_Tuple2(model,elm$core$Platform$Cmd$none)}return _Utils_Tuple2(_Utils_update(model,{_:A2(elm$core$List$map,function($){return $.aP},result.a)}),elm$core$Platform$Cmd$none);case 5:var pos2=msg.a;return _Utils_Tuple2(_Utils_update(model,{Z:A2(author$project$Vec$toBound,model.V,pos2),L:model.N&&author$project$Util$isJust(model.P)&&A2(author$project$Vec$isFar,model.V,pos2)&&model.aR<=0,a_:pos2,az:model.N&&A2(elm$core$Basics$composeL,elm$core$Basics$not,author$project$Util$isJust)(model.P)}),elm$core$Platform$Cmd$none);case 6:var maybe=msg.a;return _Utils_Tuple2(_Utils_update(model,{R:function(){if(maybe.$)return!1;var file=maybe.a;return!!(model.L&&file.aW&&A2(elm$core$Basics$composeL,elm$core$Basics$not,elm$core$List$member(file))(model.e))}(),N:!1,e:model.az?A2(elm$core$List$map,elm$core$Tuple$second,A2(elm$core$List$filter,A2(elm$core$Basics$composeL,author$project$Vec$touchesBound(model.Z),elm$core$Tuple$first),A2(author$project$Util$zip,model._,model.M))):maybe.$?_List_Nil:model.L||model.ab?model.e:_List_fromArray([maybe.a]),ay:model.e}),function(){if(maybe.$)return elm$core$Platform$Cmd$none;var file=maybe.a;return model.L&&file.aW&&A2(elm$core$Basics$composeL,elm$core$Basics$not,elm$core$List$member(file))(model.e)?A5(author$project$Action$move,model.O,model.Q,model.A,model.e,"/"+file.am+"/"):elm$core$Platform$Cmd$none}());case 7:return _Utils_Tuple2(_Utils_update(model,{e:(maybe=msg.a).$?_List_Nil:model.ay,aA:function(){if(maybe.$)return!0;var file=maybe.a;return!(_Utils_eq(model.A,model.aM)&&A2(elm$core$List$member,file,model.aN))}()}),elm$core$Platform$Cmd$none);case 8:var dir=msg.a;return _Utils_Tuple2(_Utils_update(model,{A:dir,M:_List_Nil,R:!0}),A3(author$project$Action$getLs,model.O,model.Q,dir));case 9:return _Utils_Tuple2((result=msg.a).$?model:_Utils_update(model,{M:result.a,R:!1,e:_List_Nil}),elm$core$Platform$Cmd$none);default:var result;return _Utils_Tuple2(model,(result=msg.a).$?elm$core$Platform$Cmd$none:A3(author$project$Action$getLs,model.O,model.Q,model.A))}}),author$project$Port$download=_Platform_outgoingPort("download",elm$json$Json$Encode$list(elm$json$Json$Encode$string)),author$project$Port$upload=_Platform_outgoingPort("upload",elm$json$Json$Encode$string),elm$browser$Browser$Navigation$reload=(skipCache=!1,A2(elm$core$Task$perform,elm$core$Basics$never,_Scheduler_binding(function(){_VirtualDom_doc.location.reload(skipCache)}))),author$project$Update$update=F2(function(msg,model){switch(msg.$){case 0:return A2(author$project$Env$handleEnvMsg,msg.a,model);case 1:return _Utils_Tuple2(_Utils_update(model,{a2:!0}),elm$core$Platform$Cmd$none);case 2:return _Utils_Tuple2(_Utils_update(model,{a2:!1}),elm$core$Platform$Cmd$none);case 3:return _Utils_Tuple2(_Utils_update(model,{aA:!1}),author$project$Port$upload(model.A));case 4:return _Utils_Tuple2(_Utils_update(model,{aR:msg.a}),elm$core$Platform$Cmd$none);case 5:return _Utils_Tuple2(_Utils_update(model,{a0:msg.a}),elm$core$Platform$Cmd$none);case 6:return _Utils_Tuple2(model,elm$browser$Browser$Navigation$reload);case 7:return _Utils_Tuple2(_Utils_update(model,{aR:model.aR-1}),A3(author$project$Action$getLs,model.O,model.Q,model.A));case 8:return _Utils_Tuple2(_Utils_update(model,{am:(_n1=model.P,_n1.$?"":_n1.a.am),aA:!1,a3:!0}),elm$core$Platform$Cmd$none);case 9:return _Utils_Tuple2(_Utils_update(model,{a3:!1}),elm$core$Platform$Cmd$none);case 10:return _Utils_Tuple2(_Utils_update(model,{am:msg.a}),elm$core$Platform$Cmd$none);case 11:return _Utils_Tuple2(_Utils_update(model,{R:!0,a3:!1}),A4(author$project$Action$newDir,model.O,model.Q,model.A,model.am));case 12:return _Utils_Tuple2(_Utils_update(model,{aA:!1}),author$project$Port$download(A2(elm$core$List$map,A2(elm$core$Basics$composeL,elm$core$Basics$append(model.A),function($){return $.am}),A2(elm$core$List$filter,A2(elm$core$Basics$composeL,elm$core$Basics$not,function($){return $.aW}),model.e))));case 13:return _Utils_Tuple2(_Utils_update(model,{R:!0,a3:!1}),(_n2=model.P).$?elm$core$Platform$Cmd$none:A5(author$project$Action$rename,model.O,model.Q,model.A,_n2.a.am,model.am));case 14:return _Utils_Tuple2(_Utils_update(model,{aM:model.A,aN:model.e,aA:!1}),elm$core$Platform$Cmd$none);case 15:return _Utils_eq(model.A,model.aM)?_Utils_Tuple2(_Utils_update(model,{aN:_List_Nil,aA:!1}),elm$core$Platform$Cmd$none):_Utils_Tuple2(_Utils_update(model,{aN:_List_Nil,R:!0,aA:!1}),function(){var _n3=model.P;if(_n3.$)return A5(author$project$Action$move,model.O,model.Q,model.aM,model.aN,model.A);var file=_n3.a;return file.aW?A5(author$project$Action$move,model.O,model.Q,model.aM,model.aN,model.A+(file.am+"/")):elm$core$Platform$Cmd$none}());case 16:return _Utils_Tuple2(_Utils_update(model,{R:!0,aA:!1}),A4(author$project$Action$delete,model.O,model.Q,model.A,model.e));default:return _Utils_Tuple2(model,elm$core$Platform$Cmd$none)}var _n2,_n1}),author$project$Events$options=F2(function(stopPropagation,preventDefault){return elm$json$Json$Decode$map(function(message){return{aX:message,a$:preventDefault,a5:stopPropagation}})}),elm$virtual_dom$VirtualDom$on=_VirtualDom_on,elm$html$Html$Events$custom=F2(function(event,decoder){return A2(elm$virtual_dom$VirtualDom$on,event,{$:3,a:decoder})}),elm$json$Json$Decode$float={$:4},author$project$Events$onMouseMove=function(_function){return A2(elm$html$Html$Events$custom,"mousemove",A3(author$project$Events$options,!0,!0,A3(elm$json$Json$Decode$map2,F2(function(x,y){return _function(A2(author$project$Vec$Vec2,x,y))}),A2(elm$json$Json$Decode$field,"clientX",elm$json$Json$Decode$float),A2(elm$json$Json$Decode$field,"clientY",elm$json$Json$Decode$float))))},author$project$Model$Accept={$:2},author$project$Model$Close={$:1},author$project$Model$None={$:17},elm$html$Html$button=_VirtualDom_node("button"),elm$html$Html$Attributes$stringProperty=F2(function(key,string){return A2(_VirtualDom_property,key,elm$json$Json$Encode$string(string))}),elm$html$Html$Attributes$type_=elm$html$Html$Attributes$stringProperty("type"),author$project$Util$button=F2(function(atts,childs){return A2(elm$html$Html$button,A2(elm$core$List$cons,elm$html$Html$Attributes$type_("button"),atts),childs)}),author$project$Model$GetLs=function(a){return{$:8,a:a}},elm$html$Html$Attributes$attribute=F2(function(key,value){return A2(_VirtualDom_attribute,function(key){return/^(on|formAction$)/i.test(key)?"data-"+key:key}(key),_VirtualDom_noJavaScriptOrHtmlUri(value))}),elm$html$Html$Attributes$class=elm$html$Html$Attributes$stringProperty("className"),elm$html$Html$Events$on=F2(function(event,decoder){return A2(elm$virtual_dom$VirtualDom$on,event,{$:0,a:decoder})}),elm$html$Html$Events$onClick=function(msg){return A2(elm$html$Html$Events$on,"click",elm$json$Json$Decode$succeed(msg))},elm$svg$Svg$trustedNode=_VirtualDom_nodeNS("http://www.w3.org/2000/svg"),elm$svg$Svg$path=elm$svg$Svg$trustedNode("path"),elm$svg$Svg$svg=elm$svg$Svg$trustedNode("svg"),elm$svg$Svg$Attributes$d=_VirtualDom_attribute("d"),elm$svg$Svg$Attributes$fill=_VirtualDom_attribute("fill"),elm$svg$Svg$Attributes$viewBox=_VirtualDom_attribute("viewBox"),elm$core$List$tail=function(list){if(list.b){return elm$core$Maybe$Just(list.b)}return elm$core$Maybe$Nothing},elm$core$Maybe$andThen=F2(function(callback,maybeValue){return maybeValue.$?elm$core$Maybe$Nothing:callback(maybeValue.a)}),elm$core$Maybe$withDefault=F2(function(_default,maybe){return maybe.$?_default:maybe.a}),elm$html$Html$div=_VirtualDom_node("div"),elm$html$Html$text=_VirtualDom_text,elm$svg$Svg$circle=elm$svg$Svg$trustedNode("circle"),elm$svg$Svg$Attributes$cx=_VirtualDom_attribute("cx"),elm$svg$Svg$Attributes$cy=_VirtualDom_attribute("cy"),elm$svg$Svg$Attributes$height=_VirtualDom_attribute("height"),elm$svg$Svg$Attributes$r=_VirtualDom_attribute("r"),elm$svg$Svg$Attributes$width=_VirtualDom_attribute("width"),author$project$View$bar=F2(function(dir,load){return A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-bar")]),_List_fromArray([(msg=author$project$Model$EnvMsg(author$project$Model$GetLs((route=dir,"/"+A2(elm$core$String$join,"/",A2(elm$core$Maybe$withDefault,_List_Nil,A2(elm$core$Maybe$andThen,elm$core$List$tail,elm$core$List$tail(elm$core$List$reverse(A2(elm$core$String$split,"/",route))))))))),A2(author$project$Util$button,_List_fromArray([elm$html$Html$Attributes$class("fm-arrow")]),_List_fromArray([A2(elm$svg$Svg$svg,_List_fromArray([A2(elm$html$Html$Attributes$attribute,"height","24"),elm$svg$Svg$Attributes$viewBox("0 0 24 24"),A2(elm$html$Html$Attributes$attribute,"width","24"),A2(elm$html$Html$Attributes$attribute,"xmlns","http://www.w3.org/2000/svg"),elm$html$Html$Events$onClick(msg)]),_List_fromArray([A2(elm$svg$Svg$path,_List_fromArray([elm$svg$Svg$Attributes$d("M0 0h24v24H0z"),elm$svg$Svg$Attributes$fill("none")]),_List_Nil),A2(elm$svg$Svg$path,_List_fromArray([elm$svg$Svg$Attributes$d("M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"),elm$svg$Svg$Attributes$fill("#ffffff")]),_List_Nil)]))]))),A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-text")]),_List_fromArray([elm$html$Html$text(dir)])),load?A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-loader")]),_List_fromArray([A2(elm$svg$Svg$svg,_List_fromArray([elm$svg$Svg$Attributes$width("25"),elm$svg$Svg$Attributes$height("25")]),_List_fromArray([A2(elm$svg$Svg$circle,_List_fromArray([elm$svg$Svg$Attributes$cx("50%"),elm$svg$Svg$Attributes$cy("50%"),elm$svg$Svg$Attributes$r("40%")]),_List_Nil)]))])):A2(elm$html$Html$div,_List_Nil,_List_Nil)]));var msg,route}),author$project$Model$Cancel={$:6},author$project$Model$Cut={$:14},author$project$Model$Delete={$:16},author$project$Model$Download={$:12},author$project$Model$OpenNameDialog={$:8},author$project$Model$Paste={$:15},author$project$Model$Upload={$:3},elm$core$String$fromFloat=_String_fromNumber,author$project$View$toPx=function(n){return elm$core$String$fromFloat(n)+"px"},elm$html$Html$input=_VirtualDom_node("input"),elm$html$Html$label=_VirtualDom_node("label"),elm$json$Json$Encode$bool=_Json_wrap,elm$html$Html$Attributes$multiple=F2(function(key,bool){return A2(_VirtualDom_property,key,elm$json$Json$Encode$bool(bool))})("multiple"),elm$html$Html$Attributes$style=_VirtualDom_style,author$project$View$contextMenu=F5(function(_n0,maybe,paste,many,filesAmount){var x=_n0.a,y=_n0.b;return A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-context-menu"),A2(elm$html$Html$Attributes$style,"left",author$project$View$toPx(x)),A2(elm$html$Html$Attributes$style,"top",author$project$View$toPx(y))]),0<filesAmount?_List_fromArray([A2(author$project$Util$button,_List_fromArray([elm$html$Html$Attributes$class("div white cancel"),elm$html$Html$Events$onClick(author$project$Model$Cancel)]),_List_fromArray([elm$html$Html$text("Cancel")]))]):function(){if(maybe.$)return _List_fromArray([A2(elm$html$Html$label,_List_Nil,_List_fromArray([A2(elm$html$Html$input,_List_fromArray([elm$html$Html$Attributes$class("fm-file-input"),elm$html$Html$Attributes$type_("file"),elm$html$Html$Attributes$multiple(!0),(message=author$project$Model$Upload,A2(elm$html$Html$Events$on,"change",elm$json$Json$Decode$succeed(message)))]),_List_Nil),elm$html$Html$text("Upload")])),A2(author$project$Util$button,_List_fromArray([elm$html$Html$Attributes$class("div white"),elm$html$Html$Events$onClick(author$project$Model$OpenNameDialog)]),_List_fromArray([elm$html$Html$text("New folder")])),A2(author$project$Util$button,_List_fromArray(paste?[elm$html$Html$Attributes$class("div white"),elm$html$Html$Events$onClick(author$project$Model$Paste)]:[elm$html$Html$Attributes$class("div white disabled")]),_List_fromArray([elm$html$Html$text("Paste")]))]);var message,file=maybe.a;return _List_fromArray([A2(author$project$Util$button,_List_fromArray([elm$html$Html$Attributes$class("div white"),elm$html$Html$Events$onClick(author$project$Model$Download)]),_List_fromArray([elm$html$Html$text("Download")])),A2(author$project$Util$button,_List_fromArray(many?[elm$html$Html$Attributes$class("div white disabled")]:[elm$html$Html$Attributes$class("div white"),elm$html$Html$Events$onClick(author$project$Model$OpenNameDialog)]),_List_fromArray([elm$html$Html$text("Rename")])),A2(author$project$Util$button,_List_fromArray([elm$html$Html$Attributes$class("div white"),elm$html$Html$Events$onClick(author$project$Model$Cut)]),_List_fromArray([elm$html$Html$text("Cut")])),A2(author$project$Util$button,_List_fromArray(paste&&file.aW?[elm$html$Html$Attributes$class("div white"),elm$html$Html$Events$onClick(author$project$Model$Paste)]:[elm$html$Html$Attributes$class("div white disabled")]),_List_fromArray([elm$html$Html$text("Paste")])),A2(author$project$Util$button,_List_fromArray([elm$html$Html$Attributes$class("div white"),elm$html$Html$Events$onClick(author$project$Model$Delete)]),_List_fromArray([elm$html$Html$text("Delete")]))])}())}),author$project$Events$onContextMenu=function(message){return A2(elm$html$Html$Events$custom,"contextmenu",A3(author$project$Events$options,!0,!0,elm$json$Json$Decode$succeed(message)))},elm$json$Json$Decode$map3=_Json_map3,author$project$Events$onMouseDown=function(_function){return A2(elm$html$Html$Events$custom,"mousedown",A3(author$project$Events$options,!0,!1,A4(elm$json$Json$Decode$map3,F3(function(a,b,c){return A2(_function,A2(author$project$Vec$Vec2,a,b),c)}),A2(elm$json$Json$Decode$field,"clientX",elm$json$Json$Decode$float),A2(elm$json$Json$Decode$field,"clientY",elm$json$Json$Decode$float),A2(elm$json$Json$Decode$field,"ctrlKey",elm$json$Json$Decode$bool))))},author$project$Events$onMouseUp=function(message){return A2(elm$html$Html$Events$custom,"mouseup",A3(author$project$Events$options,!0,!1,elm$json$Json$Decode$succeed(message)))},author$project$Model$ContextMenu=function(a){return{$:7,a:a}},author$project$Model$HideDrop={$:2},author$project$Model$MouseDown=F3(function(a,b,c){return{$:3,a:a,b:b,c:c}}),author$project$Model$MouseMove=function(a){return{$:5,a:a}},author$project$Model$MouseUp=function(a){return{$:6,a:a}},author$project$Model$ShowDrop={$:1},author$project$View$fileIcon=A2(elm$svg$Svg$svg,_List_fromArray([A2(elm$html$Html$Attributes$attribute,"height","48"),elm$svg$Svg$Attributes$viewBox("0 0 24 24"),A2(elm$html$Html$Attributes$attribute,"width","48"),A2(elm$html$Html$Attributes$attribute,"xmlns","http://www.w3.org/2000/svg")]),_List_fromArray([A2(elm$svg$Svg$path,_List_fromArray([elm$svg$Svg$Attributes$d("M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"),elm$svg$Svg$Attributes$fill("#ffb900")]),_List_Nil),A2(elm$svg$Svg$path,_List_fromArray([elm$svg$Svg$Attributes$d("M0 0h24v24H0z"),elm$svg$Svg$Attributes$fill("none")]),_List_Nil)])),author$project$View$folderIcon=A2(elm$svg$Svg$svg,_List_fromArray([A2(elm$html$Html$Attributes$attribute,"height","48"),elm$svg$Svg$Attributes$viewBox("0 0 24 24"),A2(elm$html$Html$Attributes$attribute,"width","48"),A2(elm$html$Html$Attributes$attribute,"xmlns","http://www.w3.org/2000/svg")]),_List_fromArray([A2(elm$svg$Svg$path,_List_fromArray([elm$svg$Svg$Attributes$d("M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"),elm$svg$Svg$Attributes$fill("#0078d4")]),_List_Nil),A2(elm$svg$Svg$path,_List_fromArray([elm$svg$Svg$Attributes$d("M0 0h24v24H0z"),elm$svg$Svg$Attributes$fill("none")]),_List_Nil)])),author$project$View$getExt=function(name){return A2(elm$core$Maybe$withDefault,"",function(list){if(list.b)return elm$core$Maybe$Just(list.a);return elm$core$Maybe$Nothing}(elm$core$List$reverse(A2(elm$core$String$split,".",name))))},elm$html$Html$img=_VirtualDom_node("img"),elm$html$Html$Attributes$draggable=_VirtualDom_attribute("draggable"),author$project$View$renderFileThumb=F3(function(api,thumbApi,fullName){return A2(elm$core$List$member,author$project$View$getExt(fullName),_List_fromArray(["jpg","jpeg","png","PNG"]))?A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-thumb")]),_List_fromArray([A2(elm$html$Html$img,_List_fromArray([(url=_Utils_ap(thumbApi,fullName),A2(elm$html$Html$Attributes$stringProperty,"src",_VirtualDom_noJavaScriptOrHtmlUri(url))),elm$html$Html$Attributes$draggable("false")]),_List_Nil)])):A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-thumb")]),_List_fromArray([author$project$View$folderIcon]));var url}),author$project$View$renderThumb=F4(function(thumbApi,api,dir,_n0){var name=_n0.am;return _n0.aW?A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-thumb")]),_List_fromArray([author$project$View$fileIcon])):A3(author$project$View$renderFileThumb,api,thumbApi,_Utils_ap(dir,name))}),elm$html$Html$Attributes$id=elm$html$Html$Attributes$stringProperty("id"),elm$html$Html$Attributes$title=elm$html$Html$Attributes$stringProperty("title"),author$project$View$renderFile=F3(function(_n0,i,file){var msg,api=_n0.O,thumbnailsUrl=_n0.a7,dir=_n0.A,selected=_n0.e,clipboardDir=_n0.aM,clipboardFiles=_n0.aN;return A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$id("fm-file-"+elm$core$String$fromInt(i)),elm$html$Html$Attributes$class("fm-file"+(A2(elm$core$List$member,file,selected)?" fm-selected":"")+(_Utils_eq(dir,clipboardDir)&&A2(elm$core$List$member,file,clipboardFiles)?" fm-cut":"")),elm$html$Html$Attributes$title(file.am),author$project$Events$onMouseDown(F2(function(x,y){return author$project$Model$EnvMsg(A3(author$project$Model$MouseDown,elm$core$Maybe$Just(file),x,y))})),author$project$Events$onMouseUp(author$project$Model$EnvMsg(author$project$Model$MouseUp(elm$core$Maybe$Just(file)))),author$project$Events$onContextMenu(author$project$Model$EnvMsg(author$project$Model$ContextMenu(elm$core$Maybe$Just(file)))),(msg=file.aW?author$project$Model$EnvMsg(author$project$Model$GetLs(dir+(file.am+"/"))):author$project$Model$Download,A2(elm$html$Html$Events$on,"dblclick",elm$json$Json$Decode$succeed(msg)))]),_List_fromArray([A4(author$project$View$renderThumb,thumbnailsUrl,api,dir,file),A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-name")]),_List_fromArray([elm$html$Html$text(file.am)]))]))}),author$project$View$renderUploading=F2(function(progress,i){return A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-file fm-upload")]),_List_fromArray([A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-thumb")]),_List_fromArray([A2(elm$html$Html$div,i?_List_Nil:_List_fromArray([elm$html$Html$Attributes$class("fm-progress"),A2(elm$html$Html$Attributes$style,"width",author$project$View$toPx(progress))]),_List_Nil)])),A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-name")]),_List_Nil)]))}),author$project$View$files=function(model){return A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-files"),elm$html$Html$Attributes$class(model.L?"fm-drag":""),author$project$Events$onMouseDown(F2(function(x,y){return author$project$Model$EnvMsg(A3(author$project$Model$MouseDown,elm$core$Maybe$Nothing,x,y))})),author$project$Events$onMouseMove(A2(elm$core$Basics$composeL,author$project$Model$EnvMsg,author$project$Model$MouseMove)),author$project$Events$onMouseUp(author$project$Model$EnvMsg(author$project$Model$MouseUp(elm$core$Maybe$Nothing))),(message=author$project$Model$ShowDrop,A2(elm$html$Html$Events$on,"dragenter",elm$json$Json$Decode$succeed(message))),author$project$Events$onContextMenu(author$project$Model$EnvMsg(author$project$Model$ContextMenu(elm$core$Maybe$Nothing)))]),_List_fromArray([A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-wrap")]),_List_fromArray([A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-fluid")]),_Utils_ap(A2(elm$core$List$indexedMap,author$project$View$renderFile(model),model.M),elm$core$List$reverse(A2(elm$core$List$map,author$project$View$renderUploading(model.a0),A2(elm$core$List$range,0,model.aR-1)))))])),A2(elm$html$Html$div,model.a2?_List_fromArray([elm$html$Html$Attributes$class("fm-drop"),function(message){return A2(elm$html$Html$Events$on,"dragleave",elm$json$Json$Decode$succeed(message))}(author$project$Model$HideDrop),function(message){return A2(elm$html$Html$Events$custom,"dragover",A3(author$project$Events$options,!1,!0,elm$json$Json$Decode$succeed(message)))}(author$project$Model$None),function(message){return A2(elm$html$Html$Events$custom,"drop",A3(author$project$Events$options,!1,!0,elm$json$Json$Decode$succeed(message)))}(author$project$Model$HideDrop)]):_List_Nil,_List_Nil)]));var message},author$project$Model$CloseNameDialog={$:9},author$project$Model$Name=function(a){return{$:10,a:a}},author$project$Model$NewDir={$:11},author$project$Model$Rename={$:13},elm$html$Html$br=_VirtualDom_node("br"),elm$html$Html$strong=_VirtualDom_node("strong"),elm$html$Html$Attributes$value=elm$html$Html$Attributes$stringProperty("value"),elm$html$Html$Events$alwaysStop=function(x){return _Utils_Tuple2(x,!0)},elm$html$Html$Events$stopPropagationOn=F2(function(event,decoder){return A2(elm$virtual_dom$VirtualDom$on,event,{$:1,a:decoder})}),elm$html$Html$Events$targetValue=A2(F2(function(fields,decoder){return A3(elm$core$List$foldr,elm$json$Json$Decode$field,decoder,fields)}),_List_fromArray(["target","value"]),elm$json$Json$Decode$string),author$project$View$nameDialog=F2(function(name,_new){return A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-screen")]),_List_fromArray([A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-modal")]),_List_fromArray([A2(elm$html$Html$label,_List_Nil,_List_fromArray([A2(elm$html$Html$strong,_List_Nil,_List_fromArray([elm$html$Html$text("Name")])),A2(elm$html$Html$br,_List_Nil,_List_Nil),A2(elm$html$Html$input,_List_fromArray([elm$html$Html$Attributes$type_("text"),elm$html$Html$Attributes$value(name),(tagger=author$project$Model$Name,A2(elm$html$Html$Events$stopPropagationOn,"input",A2(elm$json$Json$Decode$map,elm$html$Html$Events$alwaysStop,A2(elm$json$Json$Decode$map,tagger,elm$html$Html$Events$targetValue))))]),_List_Nil)])),A2(elm$html$Html$div,_List_Nil,_List_fromArray([A2(author$project$Util$button,_List_fromArray([elm$html$Html$Attributes$class("fm-button"),elm$html$Html$Events$onClick(author$project$Model$CloseNameDialog)]),_List_fromArray([elm$html$Html$text("Cancel")])),A2(author$project$Util$button,_List_fromArray([elm$html$Html$Attributes$class("fm-button"),elm$html$Html$Events$onClick(_new?author$project$Model$NewDir:author$project$Model$Rename)]),_List_fromArray([elm$html$Html$text("Ok")]))]))]))]));var tagger}),author$project$View$renderCount=F2(function(_n0,selected){var x=_n0.a,y=_n0.b;return A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-count"),A2(elm$html$Html$Attributes$style,"left",author$project$View$toPx(x+5)),A2(elm$html$Html$Attributes$style,"top",author$project$View$toPx(y-25))]),_List_fromArray([elm$html$Html$text(elm$core$String$fromInt(elm$core$List$length(selected)))]))}),elm$json$Json$Decode$andThen=_Json_andThen,author$project$FileManager$main=_Browser_element({aV:function(flags){return _Utils_Tuple2((thumbnailsUrl=(_n0=flags).a7,{O:_n0.O,Z:author$project$Vec$newBound,_:_List_Nil,P:elm$core$Maybe$Nothing,aM:"",aN:_List_Nil,ab:!1,A:_n0.A,L:!1,M:_List_Nil,aR:0,Q:_n0.Q,R:!1,N:!1,am:"",U:!1,V:A2(author$project$Vec$Vec2,0,0),a_:A2(author$project$Vec$Vec2,0,0),a0:0,e:_List_Nil,ay:_List_Nil,az:!1,aA:!1,a2:!1,a3:!1,a7:thumbnailsUrl}),A3(author$project$Action$getLs,flags.O,flags.Q,flags.A));var _n0,thumbnailsUrl},a6:function(){return elm$core$Platform$Sub$batch(_List_fromArray([author$project$Port$onOpen(A2(elm$core$Basics$composeL,author$project$Model$EnvMsg,author$project$Model$Open)),author$project$Port$onFilesAmount(author$project$Model$FilesAmount),author$project$Port$onProgress(author$project$Model$Progress),author$project$Port$onUploaded(author$project$Model$Uploaded)]))},a9:author$project$Update$update,ba:function(model){return model.U?A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-simple-screen")]),_List_fromArray([A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-main"),author$project$Events$onMouseMove(function(){return author$project$Model$None})]),_List_fromArray([A2(author$project$View$bar,model.A,model.R),author$project$View$files(model),A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-control")]),_List_fromArray([A2(author$project$Util$button,_List_fromArray([elm$html$Html$Attributes$class("alert"),elm$html$Html$Events$onClick(author$project$Model$EnvMsg(author$project$Model$Close))]),_List_fromArray([elm$html$Html$text("Cancelar")])),A2(author$project$Util$button,_List_fromArray([elm$html$Html$Events$onClick(author$project$Model$EnvMsg(author$project$Model$Accept))]),_List_fromArray([elm$html$Html$text("Aceptar")]))])),model.az?(b=model.Z,A2(elm$html$Html$div,_List_fromArray([elm$html$Html$Attributes$class("fm-helper"),A2(elm$html$Html$Attributes$style,"left",author$project$View$toPx(b.r)),A2(elm$html$Html$Attributes$style,"top",author$project$View$toPx(b.s)),A2(elm$html$Html$Attributes$style,"width",author$project$View$toPx(b.K)),A2(elm$html$Html$Attributes$style,"height",author$project$View$toPx(b.B))]),_List_Nil)):A2(elm$html$Html$div,_List_Nil,_List_Nil),model.L?A2(author$project$View$renderCount,model.a_,model.e):A2(elm$html$Html$div,_List_Nil,_List_Nil),model.aA?A5(author$project$View$contextMenu,model.V,model.P,(xs=model.aN,!!xs.b),1<elm$core$List$length(model.e),model.aR):A2(elm$html$Html$div,_List_Nil,_List_Nil),model.a3?A2(author$project$View$nameDialog,model.am,!author$project$Util$isJust(model.P)):A2(elm$html$Html$div,_List_Nil,_List_Nil)]))])):A2(elm$html$Html$div,_List_Nil,_List_Nil);var xs,b}});exports={FileManager:{init:author$project$FileManager$main(A2(elm$json$Json$Decode$andThen,function(thumbnailsUrl){return A2(elm$json$Json$Decode$andThen,function(jwtToken){return A2(elm$json$Json$Decode$andThen,function(dir){return A2(elm$json$Json$Decode$andThen,function(api){return elm$json$Json$Decode$succeed({O:api,A:dir,Q:jwtToken,a7:thumbnailsUrl})},A2(elm$json$Json$Decode$field,"api",elm$json$Json$Decode$string))},A2(elm$json$Json$Decode$field,"dir",elm$json$Json$Decode$string))},A2(elm$json$Json$Decode$field,"jwtToken",elm$json$Json$Decode$string))},A2(elm$json$Json$Decode$field,"thumbnailsUrl",elm$json$Json$Decode$string)))(0)}},scope.Elm?function _Platform_mergeExportsProd(obj,exports){for(var name in exports)name in obj?"init"==name?_Debug_crash(6):_Platform_mergeExportsProd(obj[name],exports[name]):obj[name]=exports[name]}(scope.Elm,exports):scope.Elm=exports}(this);
const FileManager = (() => {
    const renderDrop = () => {
        const observer = new MutationObserver(() => {
            const files = document.querySelector('.fm-files');
            if (files) {
                files.ondrop = ev => {
                    const dir = document.querySelector('.fm-text').innerText;                
                    const files = Array.from(ev.dataTransfer.files);
                    fm.ports.onFilesAmount.send(files.length);
                    uploadFiles(dir, files);
                };
                observer.disconnect();
            }
        });
        observer.observe(document.body, { childList: true, subtree: true });
    };

    const upload = dir => {
        const input = document.querySelector('.fm-file-input');
        const files = Array.from(input.files);
        fm.ports.onFilesAmount.send(files.length);
        uploadFiles(dir, files);
    };

    const uploadFiles = (dir, files) => {
        if (files.length == 0) {
            return;
        }

        const file = files.shift();

        const formData = new FormData();
        formData.append('dir', dir);
        formData.append('file', file);

        const xhr = new XMLHttpRequest();
        xhr.upload.onprogress = ev => {
            if (ev.lengthComputable) {
                fm.ports.onProgress.send(Math.floor(ev.loaded * 100 / ev.total));
            }
        };
        xhr.onload = () => {
            fm.ports.onUploaded.send(null);
            uploadFiles(dir, files);
        };
        xhr.open('POST', uploadEndpoint);
        xhr.send(formData);
    };

    const download = files => {
        files.forEach(file => window.open(downloadEndpoint + file));
    };

    let uploadEndpoint;
    let downloadEndpoint;
    let fm;

    return options => {
        renderDrop();

        uploadEndpoint = options.uploadEndpoint;
        downloadEndpoint = options.downloadEndpoint;

        let container;
        if (!options.container) {
            container = document.createElement('div');
            document.body.appendChild(container);
        } else {
            container = options.container;
        }

        fm = Elm.FileManager.init({
            node: container,
            flags: {
                api: options.api,
                thumbnailsUrl: options.thumbnailsUrl,             
                jwtToken: options.jwtToken || "",
                dir: options.dir || "/"
            }
        });

        fm.ports.upload.subscribe(upload);
        fm.ports.download.subscribe(download);

        return {
            open() {
                fm.ports.onOpen.send(null);
            },
            set onClose(callback) { 
                fm.ports.close.subscribe(callback);
            }
        };
    };
})();
